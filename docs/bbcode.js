(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var e,o=function(){function t(){this.TAG_HANDLER_MAP={},this.TAG_ALIASES_MAP={}}return t.prototype.transformAsIs=function(t,e,o){return"["+(e?t+"="+e:t)+"]"+o+"[/"+t+"]"},t.prototype.transformTag=function(t,e,o,r){null==e&&(e=""),t=t.substring(1);var n=this.TAG_ALIASES_MAP[t];if(!n)return this.transformAsIs(t,o,e);var i=this.TAG_HANDLER_MAP[n];if(i){var a=i.encodeToHtml(t,o,e,r);if("string"==typeof a)return a}return this.transformAsIs(t,o,e)},t.prototype.filterXSS=function(t){return t.replace(/\u200B/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/ /g,"&nbsp;")},t.prototype.registerTagHandler=function(t){this.TAG_HANDLER_MAP[t.tagName()]=t,this.TAG_ALIASES_MAP[t.tagName()]=t.tagName();for(var e=0,o=t.tagAliases();e<o.length;e++){var r=o[e];this.TAG_ALIASES_MAP[r]=t.tagName()}},t.prototype.getHandler=function(t){return t=this.TAG_ALIASES_MAP[t],this.TAG_HANDLER_MAP[t]},t.prototype.bbcode2html=function(e,o){void 0===o&&(o=!1);for(var r=[],n={},i=t.STATE_NORMAL,a="",c=0;c<e.length;c++){var s=e[c];switch(s){case"[":i===t.STATE_NORMAL&&c<e.length?(a.length>0&&r.push({type:t.TYPE_TEXT,value:this.filterXSS(a)}),a="[","/"===e[c+1]?(i=t.STATE_BBCODE_CLOSE_START,a+="/",c++):i=t.STATE_BBCODE_OPEN_START):i===t.STATE_BBCODE_OPEN_START||i===t.STATE_BBCODE_CLOSE_START?a.length>0&&(r.push({type:t.TYPE_TEXT,value:this.filterXSS(a)}),a="["):a+=s;break;case"]":if(i===t.STATE_BBCODE_OPEN_START){var p="",u="",l=a.indexOf("="),f=-1;if(l>0){var y=a.indexOf(" ");y<0||y>l?f=l:y>0&&y<l&&(f=y)}f>0?(u=a.substring(f+1),p=a.substring(0,f)):p=a;var g=p.substring(1),d=!1;if(_=this.getHandler(g)){var m=_.allowParents(g);if(m.length>0){for(var h=0,b=m;h<b.length;h++)if(n[b[h]]){d=!0;break}}else d=!0}d?(_.isSelfClose()?r.push({type:t.TYPE_TEXT,value:this.transformTag(p,"",this.filterXSS(u),o)}):(r.push({type:t.TYPE_BBCODE_OPEN,value:p,arg:this.filterXSS(u)}),n[g]=n[g]?n[g]+1:1),a=""):a+="]",i=t.STATE_NORMAL}else if(i===t.STATE_BBCODE_CLOSE_START){var _;if(p=a.substring(2),(_=this.getHandler(p))&&!_.isSelfClose()){var v="",T=!1;t:for(;;){var w=r.pop();if(!w)break;switch(w.type){case t.TYPE_TEXT:v=w.value+v;break;case t.TYPE_BBCODE_OPEN:var O=w.value.substring(1);if(n[O]&&(n[O]=Math.max(n[O]-1,0)),p===O){r.push({type:t.TYPE_TEXT,value:this.transformTag(w.value,v,w.arg,o)}),v="",T=!0;break t}v=this.transformTag(w.value,v,w.arg,o)}}T||(v+=a+"]"),v.length>0&&r.push({type:t.TYPE_TEXT,value:v}),a=""}else a+="]";i=t.STATE_NORMAL}else a+=s;break;case"\r":break;default:a+=s}}for(var A="",E=void 0;E=r.pop();)E.type===t.TYPE_BBCODE_OPEN?(a.length>0&&(A+=a,a=""),A=this.transformTag(E.value,A,E.arg,o)):E.type===t.TYPE_TEXT&&(A=E.value+A);return a.length>0&&(A+=a),A.replace(/\n/g,"<br/>")},t.prototype.html2bbcode=function(t,e){for(var o="",r=0,n=Array.from((new DOMParser).parseFromString(t,"text/html").getElementsByTagName("body")[0].childNodes);r<n.length;r++){var i=n[r];o+=this.resolveNode(i,e)}return o},t.prototype.resolveNode=function(t,e){var o="";Array.isArray(t)||(t=t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[t]);for(var r=0,n=t;r<n.length;r++){var i=n[r];switch(i.nodeType){case i.ELEMENT_NODE:var a=i;if("1"===a.getAttribute("data-cke-temp")||a.classList.contains("cke_widget_partial_mask"))break;if("br"===a.tagName.toLowerCase()){o+="\n";break}var c=a.getAttribute("data-tag");c||(c=a.tagName.toLowerCase());var s=this.getHandler(c);o+=s?s.decodeFromHtml(a,this.resolveNode.bind(this),e):this.resolveNode(Array.from(i.childNodes),e);break;case i.TEXT_NODE:o+=i.textContent.replace(/[\n\r ]/g,"")}}return o},t.STATE_NORMAL=0,t.STATE_BBCODE_OPEN_START=1,t.STATE_BBCODE_CLOSE_START=2,t.TYPE_TEXT=0,t.TYPE_BBCODE_OPEN=1,t}(),r=function(){function t(){}return t.prototype.tagAliases=function(){return[]},t.prototype.isSelfClose=function(){return!1},t.prototype.allowParents=function(t){return[]},t.prototype.splitArgs=function(t){return t.split(";")},t.prototype.combineArgs=function(t){for(var e=!1,o="",r=t.length-1;r>=0;r--){var n=t[r];n&&(o=n+o,e=!0),(e||n)&&r>0&&(o=";"+o)}return o},t}(),n=(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagName=function(){return"b"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},e.prototype.decodeFromHtml=function(t,e,o){return"[b]"+e(t.childNodes,o)+"[/b]"},e}(r),a=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.tagName=function(){return"i"},e.prototype.tagAliases=function(){return[]},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},e.prototype.decodeFromHtml=function(t,e,o){return"[i]"+e(t.childNodes,o)+"[/i]"},e}(r),s=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.tagName=function(){return"color"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?e?(e.match(/^[0-9a-fA-F]{6}$/)&&(e="#"+e),'<font color="'+e+'" data-tag="color">'+o+"</font>"):o:""},e.prototype.decodeFromHtml=function(t,e,o){return"[color="+t.getAttribute("color")+"]"+e(t.childNodes,o)+"[/color]"},e}(r),u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.tagName=function(){return"size"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?e&&e.match(/^[1-7]$/)?'<font size="'+e+'" data-tag="size">'+o+"</font>":o:""},e.prototype.decodeFromHtml=function(t,e,o){return"[size="+t.getAttribute("size")+"]"+e(t.childNodes,o)+"[/size]"},e}(r),f=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.tagName=function(){return"mask"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?r?'<div data-tag="mask" class="mask" title="黑幕内容">'+o+"</div>":'<div class="mask"><span class="heimu" title="你知道的太多了">'+o+"</span></div>":""},e.prototype.decodeFromHtml=function(t,e,o){return"[mask]"+e(t.childNodes,o)+"[/mask]"},e}(r),g=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.tagName=function(){return"collapse"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),e&&0===e.indexOf("title=")&&(e=e.substring(6)),e||(e="点击展开"),r?'<div data-tag="collapse" class="collapse"><span>折叠标题：</span><div class="collapse-title">'+e+'</div><span>折叠内容：</span><div class="collapse-content">'+o+"</div></div>":'<div data-tag="collapse"><details><summary><b class="collapse-title">'+e+'</b></summary><div class="collapse-content">'+o+"</div></details></div>"},e.prototype.decodeFromHtml=function(t,e,o){var r=t.getElementsByClassName("collapse-title"),n=r.length>0?r[0].textContent:"点击展开",i=t.getElementsByClassName("collapse-content");return"[collapse="+n+"]"+(i.length>0?e(i[0],o):"")+"[/collapse]"},e}(r),m=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.tagName=function(){return"dice"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?!!o.match(/^((\d{1,7})|(\d{0,7}d\d{1,7}))([+\-]((\d{1,7})|(\d{0,7}d\d{1,7})))*$/)&&(r?'<div data-tag="dice" class="dice"><span><b>骰子ROLL点表达式：</b></span><div class="dice-expression">'+o+"</div></div>":'<div class="dice">假装有骰娘：'+o+"="+Math.round(200*Math.random())+"</div>"):""},e.prototype.decodeFromHtml=function(t,e,o){var r=t.getElementsByClassName("dice-expression"),n=r.length>0?r[0].textContent.replace(/\u200B/g,""):"";return!!n&&"[dice]"+n+"[/dice]"},e}(r),b=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.tagName=function(){return"u"},e.prototype.tagAliases=function(){return[]},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},e.prototype.decodeFromHtml=function(t,e,o){return"[u]"+e(t.childNodes,o)+"[/u]"},e}(r),v=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),e.prototype.tagName=function(){return"del"},e.prototype.tagAliases=function(){return["s"]},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?"<s>"+o+"</s>":""},e.prototype.decodeFromHtml=function(t,e,o){return"[del]"+e(t.childNodes,o)+"[/del]"},e}(r),w=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.tagName=function(){return"img"},e.prototype.tagAliases=function(){return[]},e.prototype.isSelfClose=function(){return!0},e.prototype.encodeToHtml=function(t,e,o,r){void 0===r&&(r=!1);var n=this.splitArgs(e),i=n[0]||"#",a=n.length>1?parseInt(n[1]):"",c=n.length>2?parseInt(n[2]):"",s='<img src="'+i+'"',p="";switch(a>0&&(p+="width:"+a+"px;"),c>0&&(p+="height:"+c+"px;"),n.length>3?n[3]:""){case"left":p+="float:left;";break;case"right":p+="float:right;"}return p&&(s+=' style="'+p+'"'),s+"/>"},e.prototype.decodeFromHtml=function(t,e,o){var r=t,n=t.getAttribute("src"),i=parseInt(r.style.width),a=parseInt(r.style.height),c=r.style.float,s=this.combineArgs([n,i,a,c]);return s||(s="#"),"[img="+s+"]"},e}(r),A=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e.prototype.tagName=function(){return"hr"},e.prototype.isSelfClose=function(){return!0},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),"<hr/>"},e.prototype.decodeFromHtml=function(t,e,o){return"[hr]"},e}(r),S=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.tagName=function(){return"url"},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?(e?e.match(/^((https|http):\/\/)[^\s]+$/)||(e="http://"+e):e="#",'<a href="'+e+'" data-tag="url">'+o+"</a>"):""},e.prototype.decodeFromHtml=function(t,e,o){return"[url="+t.getAttribute("href")+"]"+t.textContent+"[/url]"},e}(r),x=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.tagName=function(){return"quote"},e.prototype.tagAliases=function(){return["blockquote"]},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o?'<blockquote data-tag="quote"><p>'+o+"</p></blockquote>":""},e.prototype.decodeFromHtml=function(t,e,o){return"[quote]"+e(t.childNodes,o)+"[/quote]"},e}(r),P=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.tagName=function(){return"h1"},e.prototype.tagAliases=function(){return["h2","h3"]},e.prototype.encodeToHtml=function(t,e,o,r){return void 0===r&&(r=!1),o&&0!==o.trim().length?"<"+(t=t.toLowerCase())+">"+o+"</"+t+">":""},e.prototype.decodeFromHtml=function(t,e,o){var r=t.tagName.toLowerCase();return"["+r+"]"+e(t.childNodes,o)+"[/"+r+"]"},e}(r),j=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.prototype.tagName=function(){return"list"},e.prototype.tagAliases=function(){return["ul","ol","li","*"]},e.prototype.allowParents=function(t){return"*"===t?["list"]:[]},e.prototype.encodeToHtml=function(t,e,o,r){if(void 0===r&&(r=!1),!o)return"";var n="";switch(t){case"list":n=e?"ol":"ul";break;case"*":n="li";break;default:return o}return"<"+n+">"+o+"</"+n+">"},e.prototype.decodeFromHtml=function(t,e,o){switch(t.tagName.toLowerCase()){case"ul":return"[list]"+e(t.childNodes,o)+"[/list]";case"ol":return"[list=1]"+e(t.childNodes,o)+"[/list]";case"li":return"[*]"+e(t.childNodes,o);default:return!1}},e}(r),B=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),k=function(t){function e(){var o=t.call(this)||this;return e.typeMap.gonglue=e.typeMap.gonglve,e.typeGroupMap.gonglue=e.typeGroupMap.gonglve,o}return B(e,t),e.prototype.tagName=function(){return"notice"},e.prototype.tagAliases=function(){return["feedback","essence"]},e.prototype.isSelfClose=function(){return!0},e.prototype.encodeToHtml=function(t,o,r,n){void 0===n&&(n=!1);var i=e.typeMap[o];return i?'<div data-tag="notice" data-notice-type="'+o+'" class="ambox"><table class="'+i.boxClass+'"><tbody><tr><td class="ambox-image"><img src="'+i.imgSrc+'"/></td><td class="ambox-notice"><span class="notice-bubble"><span class="notice-bubble-line"></span><i><b class="notice-speech">'+i.speech+'</b></i></span><br><span class="notice-text">'+i.notification+"</span></td></tr></tbody></table></div>":"[notice="+o+"]"},e.prototype.decodeFromHtml=function(t,o,r){var n=t.getAttribute("data-notice-type");return n&&e.typeMap[n]?"["+e.typeGroupMap[n]+"="+n+"]":""},e.typeMap={jutou:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/%E5%8F%AF%E9%9C%B2%E5%B8%8C%E5%B0%94_%E7%9C%8B%E4%B9%A6.png",boxClass:"ambox ambox-blue",speech:"博士，这几页我先帮你存着。",notification:"<b>本帖内容含剧透成分。</b>想要享受游戏探索/解谜乐趣的玩家请自行离开。"},rmt:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/20720aaac96bb824570ec92f651ffd7be84370b8.png",boxClass:"ambox ambox-blue",speech:"小心钱包（这句话是阿米娅说的）",notification:"<b>该帖子涉及现实货币交易。</b>请注意资产安全。"},predict:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/9156ab90139c76dbeb7420384c2ac691ab86097f.png",boxClass:"ambox ambox-blue",speech:"罗德岛的档案里没有诶...",notification:"<b>该帖子含推测内容。</b>请以官方消息为准，小心甄别。"},warn:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/20210626213733.png",boxClass:"ambox ambox-red",speech:"警告！博士你呀快被吊到舰桥上了哦...",notification:"<b>您的帖子已游走在违规边缘，请及时更改！</b>"},rec:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/4945b698209e2e73bc129a9026fc625a78ad8370.png",boxClass:"ambox ambox-violet",speech:"这个问题工程部已经知道啦！正在加班加点抢修！",notification:"<b>所反馈内容已记录</b>，请耐心等待。"},succ:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/02b4b87d4412f4a93d2f6d56f6479fd59918a7cc.png",boxClass:"ambox ambox-green",speech:"哼哼！这个问题已经解决啦！快称赞一下伟大的可露希尔！",notification:"<b>所反馈内容已解决</b>，请关注论坛公告。"},fail:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/32c0c66fb419b9ff5c8efb5ef967257627f8037d.png",boxClass:"ambox ambox-orange",speech:"啊呀...这个问题有点难...什么？伟大的可露希尔怎么可能不会！",notification:"所反馈内容由于各种原因<i>暂时</i>无法解决，请谅解。"},post:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/5a207be77f3457a726782c4c903186f3170d680a.png",boxClass:"ambox ambox-essence",speech:"这篇文章写的好棒！要不偷偷的印出来卖钱吧？",notification:"您的帖子已达到加精标准，感谢您的付出！"},paint:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/5a207be77f3457a726782c4c903186f3170d680a.png",boxClass:"ambox ambox-essence",speech:"这也太好看啦！能让我拿去观摩一下吗？嗯？不会偷偷卖钱啦！",notification:"您的帖子已达到加精标准，感谢您的付出！"},rpg:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/5a207be77f3457a726782c4c903186f3170d680a.png",boxClass:"ambox ambox-essence",speech:"哦！这展开真是出乎意料啊！拍个电影吧！赚钱了我七你三！",notification:"您的帖子已达到加精标准，感谢您的付出！"},kaoju:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/5a207be77f3457a726782c4c903186f3170d680a.png",boxClass:"ambox ambox-essence",speech:"什...什么！？这都能让你找出来的！挺不错的嘛！",notification:"您的帖子已达到加精标准，感谢您的付出！"},gonglve:{imgSrc:"https://gitee.com/nemo1166/img-gallery/raw/master/img/5a207be77f3457a726782c4c903186f3170d680a.png",boxClass:"ambox ambox-essence",speech:"居然比我可露希尔还要厉害...真有你的呀！",notification:"您的帖子已达到加精标准，感谢您的付出！"}},e.typeGroupMap={jutou:"notice",rmt:"notice",predict:"notice",warn:"notice",rec:"feedback",succ:"feedback",fail:"feedback",post:"essence",paint:"essence",rpg:"essence",kaoju:"essence",gonglve:"essence"},e}(r),L=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),D=function(t){function e(){var o=t.call(this)||this;return e.typeMap.video=e.typeMap.bvideo,e.typeGroupMap.video=e.typeGroupMap.bvideo,o}return L(e,t),e.prototype.tagName=function(){return"video"},e.prototype.tagAliases=function(){return["bvideo"]},e.prototype.isSelfClose=function(){return!0},e.prototype.encodeToHtml=function(t,o,r,n){if(void 0===n&&(n=!1),o&&0===o.indexOf("bv=")&&(o=o.substring(3)),!o)return"";var i=e.typeMap[t];if(!i)return"["+t+"="+o+"]";var a=e.typeGroupMap[t];return n?'<div data-tag="video" class="video" data-video-type="'+a.type+'" data-video-value="'+o+'">视频来源：<span class="video-type">'+a.name+'</span><br/>视频ID：<span class="video-value">'+o+"</span></div>":'<div data-tag="video">'+i.replace(/__VIDEO_VALUE__/g,o)+"</div>"},e.prototype.decodeFromHtml=function(t,o,r){var n=t.getAttribute("data-video-type"),i=t.getAttribute("data-video-value");return n&&i&&e.typeMap[n]?"["+e.typeGroupMap[n].type+"="+i+"]":""},e.typeMap={bvideo:'<iframe src="//player.bilibili.com/player.html?bvid=__VIDEO_VALUE__&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="95%" height="600"></iframe>'},e.typeGroupMap={bvideo:{name:"B站",type:"bvideo"}},e}(r),F=new o;F.registerTagHandler(new i),F.registerTagHandler(new c),F.registerTagHandler(new _),F.registerTagHandler(new T),F.registerTagHandler(new p),F.registerTagHandler(new l),F.registerTagHandler(new y),F.registerTagHandler(new d),F.registerTagHandler(new h),F.registerTagHandler(new O),F.registerTagHandler(new E),F.registerTagHandler(new N),F.registerTagHandler(new C),F.registerTagHandler(new H),F.registerTagHandler(new M),F.registerTagHandler(new k),F.registerTagHandler(new D),t.g.BBCODE={newParser:function(){return new o},defaultParser:F,bbcode2html:function(t,e){return void 0===e&&(e=!1),F.bbcode2html(t,e)},html2bbcode:function(t,e){return void 0===e&&(e=!1),F.html2bbcode(t,e)}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL0JCQ09ERVBhcnNlci50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9UYWdIYW5kbGVyLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJCb2xkLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJJdGFsaWMudHMiLCJ3ZWJwYWNrOi8vYmJjb2RlLXBhcnNlci8uL3NyYy90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckNvbG9yLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJTaXplLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJNYXNrLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJDb2xsYXBzZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyRGljZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyVW5kZXJsaW5lLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJTdHJpa2UudHMiLCJ3ZWJwYWNrOi8vYmJjb2RlLXBhcnNlci8uL3NyYy90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckltYWdlLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJIb3Jpem9udGFsUnVsZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyTGluay50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyQmxvY2txdW90ZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVySGVhZGVyLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJMaXN0LnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJOb3RpY2UudHMiLCJ3ZWJwYWNrOi8vYmJjb2RlLXBhcnNlci8uL3NyYy90YWcvaGFuZGxlcnMvVGFnSGFuZGxlclZpZGVvLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsIlRBR19IQU5ETEVSX01BUCIsIlRBR19BTElBU0VTX01BUCIsInRyYW5zZm9ybUFzSXMiLCJ0YWdOYW1lIiwiYXJnIiwiY29udGVudCIsInRyYW5zZm9ybVRhZyIsInRhZ0xhYmVsIiwiZm9yRWRpdG9yIiwic3Vic3RyaW5nIiwiaGFuZGxlciIsInJlc3VsdCIsImVuY29kZVRvSHRtbCIsImZpbHRlclhTUyIsInN0ciIsInJlcGxhY2UiLCJyZWdpc3RlclRhZ0hhbmRsZXIiLCJ0YWdBbGlhc2VzIiwiYWxpYXMiLCJnZXRIYW5kbGVyIiwiYmJjb2RlMmh0bWwiLCJyYXdDb250ZW50Iiwic3RhY2siLCJwYXJlbnRNYXAiLCJzdGF0ZSIsIkJCQ09ERVBhcnNlciIsIlNUQVRFX05PUk1BTCIsInRtcCIsImlkeCIsImxlbmd0aCIsImNoYXIiLCJwdXNoIiwidHlwZSIsIlRZUEVfVEVYVCIsInZhbHVlIiwiU1RBVEVfQkJDT0RFX0NMT1NFX1NUQVJUIiwiU1RBVEVfQkJDT0RFX09QRU5fU1RBUlQiLCJ0YWciLCJlcXVhbHNJZHgiLCJpbmRleE9mIiwiYXJnSWR4Iiwic3BhY2VJZHgiLCJyZWFsVGFnIiwiYWxsb3dIYW5kbGVyIiwiYWxsb3dQYXJlbnRzIiwiaXNTZWxmQ2xvc2UiLCJUWVBFX0JCQ09ERV9PUEVOIiwic3VjY2Vzc0Nsb3NlZCIsIm91dCIsInBvcCIsInN1YlRhZyIsIk1hdGgiLCJtYXgiLCJub2RlIiwidW5kZWZpbmVkIiwiaHRtbDJiYmNvZGUiLCJodG1sIiwiQXJyYXkiLCJmcm9tIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjaGlsZE5vZGVzIiwiZG9tIiwicmVzb2x2ZU5vZGUiLCJub2RlcyIsImlzQXJyYXkiLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwibm9kZVR5cGUiLCJFTEVNRU5UX05PREUiLCJnZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRvTG93ZXJDYXNlIiwiYmJjb2RlVGFnIiwiZGVjb2RlRnJvbUh0bWwiLCJiaW5kIiwiVEVYVF9OT0RFIiwidGV4dENvbnRlbnQiLCJzcGxpdEFyZ3MiLCJyYXdBcmciLCJzcGxpdCIsImNvbWJpbmVBcmdzIiwiYXJncyIsImZsYWciLCJpIiwiZWxlbWVudCIsInJlc29sdmVGdW4iLCJUYWdIYW5kbGVyIiwibWF0Y2giLCJ0aXRsZUUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidGl0bGUiLCJjb250ZW50RSIsInJvdW5kIiwicmFuZG9tIiwiZXhwcyIsImV4cCIsInNyYyIsIndpZHRoIiwicGFyc2VJbnQiLCJoZWlnaHQiLCJzdHlsZVZhbHVlIiwiaW1nIiwic3R5bGUiLCJmbG9hdCIsInRyaW0iLCJUYWdIYW5kbGVyTm90aWNlIiwidHlwZU1hcCIsInR5cGVHcm91cE1hcCIsImF0dHIiLCJib3hDbGFzcyIsImltZ1NyYyIsInNwZWVjaCIsIm5vdGlmaWNhdGlvbiIsIlRhZ0hhbmRsZXJWaWRlbyIsInRlbXBsYXRlIiwiZ3JvdXAiLCJuYW1lIiwiZGVmYXVsdEJCQ29kZVBhcnNlciIsIlRhZ0hhbmRsZXJCb2xkIiwiVGFnSGFuZGxlckl0YWxpYyIsIlRhZ0hhbmRsZXJVbmRlcmxpbmUiLCJUYWdIYW5kbGVyU3RyaWtlIiwiVGFnSGFuZGxlckNvbG9yIiwiVGFnSGFuZGxlclNpemUiLCJUYWdIYW5kbGVyTWFzayIsIlRhZ0hhbmRsZXJDb2xsYXBzZSIsIlRhZ0hhbmRsZXJEaWNlIiwiVGFnSGFuZGxlckltYWdlIiwiVGFnSGFuZGxlckhvcml6b250YWxSdWxlIiwiVGFnSGFuZGxlckxpbmsiLCJUYWdIYW5kbGVyQmxvY2txdW90ZSIsIlRhZ0hhbmRsZXJIZWFkZXIiLCJUYWdIYW5kbGVyTGlzdCIsIkJCQ09ERSIsIm5ld1BhcnNlciIsImRlZmF1bHRQYXJzZXIiXSwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixHQ0QxQkEsRUFBb0JDLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT0MsTUFBUSxJQUFJQyxTQUFTLGNBQWIsR0FDZCxNQUFPQyxHQUNSLEdBQXNCLGlCQUFYQyxPQUFxQixPQUFPQSxRQUxqQixHQ0d4QixJLEVBQUEsMEJBT3FCLEtBQUFDLGdCQUFpRCxHQUNqRCxLQUFBQyxnQkFBNkMsR0FtUmxFLE9BalJJLFlBQUFDLGNBQUEsU0FBY0MsRUFBaUJDLEVBQWFDLEdBT3hDLE1BQU8sS0FMSEQsRUFDYUQsRUFBTyxJQUFJQyxFQUVkRCxHQUVJLElBQUlFLEVBQU8sS0FBS0YsRUFBTyxLQUc3QyxZQUFBRyxhQUFBLFNBQWFDLEVBQWtCRixFQUFpQkQsRUFBYUksR0FDckRILFVBQ0FBLEVBQVUsSUFFZEUsRUFBV0EsRUFBU0UsVUFBVSxHQUM5QixJQUFNTixFQUFVUCxLQUFLSyxnQkFBZ0JNLEdBQ3JDLElBQUtKLEVBQ0QsT0FB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QW9CeEcsbUJBQW1CLElBQUkyRyxHQUMzQ0gsRUFBb0J4RyxtQkFBbUIsSUFBSTRHLEdBQzNDSixFQUFvQnhHLG1CQUFtQixJQUFJNkcsR0FDM0NMLEVBQW9CeEcsbUJBQW1CLElBQUk4RyxHQUMzQ04sRUFBb0J4RyxtQkFBbUIsSUFBSStHLEdBQzNDUCxFQUFvQnhHLG1CQUFtQixJQUFJZ0gsR0FDM0NSLEVBQW9CeEcsbUJBQW1CLElBQUlpSCxHQUMzQ1QsRUFBb0J4RyxtQkFBbUIsSUFBSWtILEdBQzNDVixFQUFvQnhHLG1CQUFtQixJQUFJbUgsR0FDM0NYLEVBQW9CeEcsbUJBQW1CLElBQUlvSCxHQUMzQ1osRUFBb0J4RyxtQkFBbUIsSUFBSXFILEdBQzNDYixFQUFvQnhHLG1CQUFtQixJQUFJc0gsR0FDM0NkLEVBQW9CeEcsbUJBQW1CLElBQUl1SCxHQUMzQ2YsRUFBb0J4RyxtQkFBbUIsSUFBSTRGLEdBQzNDWSxFQUFvQnhHLG1CQUFtQixJQUFJb0csR0FLM0MsRUFBQTFILEVBQU84SSxPQUFTLENBQ1pDLFVBQVcsV0FDUCxPQUFPLElBQUloSCxHQUVmaUgsY0FBZWxCLEVBQ2ZwRyxZQUFhLFNBQVVDLEVBQW9CYixHQUN2QyxZQUR1QyxJQUFBQSxPQUFBLEdBQ2hDZ0gsRUFBb0JwRyxZQUFZQyxFQUFZYixJQUV2RCtDLFlBQWEsU0FBVUMsRUFBY2hELEdBQ2pDLFlBRGlDLElBQUFBLE9BQUEsR0FDMUJnSCxFQUFvQmpFLFlBQVlDLEVBQU1oRCxNIiwiZmlsZSI6ImJiY29kZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuL3RhZy9UYWdIYW5kbGVyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQkJDT0RFUGFyc2VyIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUQVRFX05PUk1BTCA9IDA7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBTVEFURV9CQkNPREVfT1BFTl9TVEFSVCA9IDE7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBTVEFURV9CQkNPREVfQ0xPU0VfU1RBUlQgPSAyO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVFlQRV9URVhUID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRZUEVfQkJDT0RFX09QRU4gPSAxO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgVEFHX0hBTkRMRVJfTUFQOiB7IFtrZXk6IHN0cmluZ106IFRhZ0hhbmRsZXIgfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUQUdfQUxJQVNFU19NQVA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcclxuXHJcbiAgICB0cmFuc2Zvcm1Bc0lzKHRhZ05hbWU6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9wZW5UYWcgPSAnJztcclxuICAgICAgICBpZiAoYXJnKSB7XHJcbiAgICAgICAgICAgIG9wZW5UYWcgPSBgJHt0YWdOYW1lfT0ke2FyZ31gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9wZW5UYWcgPSB0YWdOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYFske29wZW5UYWd9XSR7Y29udGVudH1bLyR7dGFnTmFtZX1dYDtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm1UYWcodGFnTGFiZWw6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBhcmc6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRlbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29udGVudCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YWdMYWJlbCA9IHRhZ0xhYmVsLnN1YnN0cmluZygxKTtcclxuICAgICAgICBjb25zdCB0YWdOYW1lID0gdGhpcy5UQUdfQUxJQVNFU19NQVBbdGFnTGFiZWxdO1xyXG4gICAgICAgIGlmICghdGFnTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Bc0lzKHRhZ0xhYmVsLCBhcmcsIGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuVEFHX0hBTkRMRVJfTUFQW3RhZ05hbWVdO1xyXG4gICAgICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGhhbmRsZXIuZW5jb2RlVG9IdG1sKHRhZ0xhYmVsLCBhcmcsIGNvbnRlbnQsIGZvckVkaXRvcik7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Bc0lzKHRhZ0xhYmVsLCBhcmcsIGNvbnRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlclhTUyhzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHN0clxyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx1MjAwQi9nLCcnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvIC9nLCAnJm5ic3A7Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJUYWdIYW5kbGVyKGhhbmRsZXI6IFRhZ0hhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLlRBR19IQU5ETEVSX01BUFtoYW5kbGVyLnRhZ05hbWUoKV0gPSBoYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuVEFHX0FMSUFTRVNfTUFQW2hhbmRsZXIudGFnTmFtZSgpXSA9IGhhbmRsZXIudGFnTmFtZSgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgYWxpYXMgb2YgaGFuZGxlci50YWdBbGlhc2VzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5UQUdfQUxJQVNFU19NQVBbYWxpYXNdID0gaGFuZGxlci50YWdOYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SGFuZGxlcih0YWdOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0YWdOYW1lID0gdGhpcy5UQUdfQUxJQVNFU19NQVBbdGFnTmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVEFHX0hBTkRMRVJfTUFQW3RhZ05hbWVdO1xyXG4gICAgfVxyXG5cclxuLy8gVE9ETyDoh6rlrprkuYnop6PmnpDvvJrmoIfnrb7lhoXpg6jltYzlpZfnmoTmiYDmnInkuJzopb/pg73kuqTnu5noh6rlrprkuYnop6PmnpDlmajvvIzlj6/ku6Xoh6rooYzlpITnkIblhoXlrrnop6PmnpDjgILnlKjpgJTvvJpbY29kZV1bL2NvZGVd44CBW2xpc3RdWypdeHhbL2xpc3RdXHJcbi8vIFRPRE8g54m55q6K6Kej5p6Q77yaW2NvZGVd5qCH562+5bqU6K+l5b+955Wl5q2j5bi455qE6Zet5ZCI5qCH562+77yM55u05Yiw5om+5Yiw5LqGWy9jb2RlXeaIluiAheWIsOi+vuWtl+espuS4suacq+WwvlxyXG4gICAgYmJjb2RlMmh0bWwocmF3Q29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gVE9ETyBhbnnmlLnmjqXlj6NcclxuICAgICAgICBjb25zdCBzdGFjazogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBwYXJlbnRNYXA6IGFueSA9IHt9O1xyXG4gICAgICAgIGxldCBzdGF0ZSA9IEJCQ09ERVBhcnNlci5TVEFURV9OT1JNQUw7XHJcbiAgICAgICAgbGV0IHRtcCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHJhd0NvbnRlbnQubGVuZ3RoOyBpZHgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gcmF3Q29udGVudFtpZHhdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1snOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBCQkNPREVQYXJzZXIuU1RBVEVfTk9STUFMICYmIGlkeCA8IHJhd0NvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7dHlwZTogQkJDT0RFUGFyc2VyLlRZUEVfVEVYVCwgdmFsdWU6IHRoaXMuZmlsdGVyWFNTKHRtcCl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSAnWyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYXdDb250ZW50W2lkeCArIDFdID09PSAnLycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gQkJDT0RFUGFyc2VyLlNUQVRFX0JCQ09ERV9DTE9TRV9TVEFSVDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSAnLyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gQkJDT0RFUGFyc2VyLlNUQVRFX0JCQ09ERV9PUEVOX1NUQVJUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQkJDT0RFUGFyc2VyLlNUQVRFX0JCQ09ERV9PUEVOX1NUQVJUIHx8IHN0YXRlID09PSBCQkNPREVQYXJzZXIuU1RBVEVfQkJDT0RFX0NMT1NFX1NUQVJUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7dHlwZTogQkJDT0RFUGFyc2VyLlRZUEVfVEVYVCwgdmFsdWU6IHRoaXMuZmlsdGVyWFNTKHRtcCl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9ICdbJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgJ10nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBCQkNPREVQYXJzZXIuU1RBVEVfQkJDT0RFX09QRU5fU1RBUlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJnID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFvOWuuVt0YWcgYXJnPXh4XeeahOW9ouW8j++8jOetieWIsOe6v+S4iueahOi/meenjeW8guW4uOagvOW8j+WJqeS9mei2s+Wkn+WwkeeahOaXtuWAmeWwseWPr+S7peWIoOaOiVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXF1YWxzSWR4ID0gdG1wLmluZGV4T2YoJz0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFyZ0lkeCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXF1YWxzSWR4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwYWNlSWR4ID0gdG1wLmluZGV4T2YoJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFjZUlkeCA8IDAgfHwgc3BhY2VJZHggPiBlcXVhbHNJZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdJZHggPSBlcXVhbHNJZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgIGlmIChzcGFjZUlkeCA+IDAgJiYgc3BhY2VJZHggPCBlcXVhbHNJZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdJZHggPSBzcGFjZUlkeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnSWR4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gdG1wLnN1YnN0cmluZyhhcmdJZHggKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IHRtcC5zdWJzdHJpbmcoMCwgYXJnSWR4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IHRtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFsVGFnID0gdGFnLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZ2V0SGFuZGxlcihyZWFsVGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbG93SGFuZGxlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsb3dQYXJlbnRzID0gaGFuZGxlci5hbGxvd1BhcmVudHMocmVhbFRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dQYXJlbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcmVudE5hbWUgb2YgYWxsb3dQYXJlbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRNYXBbcGFyZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93SGFuZGxlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dIYW5kbGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci5pc1NlbGZDbG9zZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnRyYW5zZm9ybVRhZyh0YWcsICcnLCB0aGlzLmZpbHRlclhTUyhhcmcpLCBmb3JFZGl0b3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCQkNPREVQYXJzZXIuVFlQRV9CQkNPREVfT1BFTixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRhZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnOiB0aGlzLmZpbHRlclhTUyhhcmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TWFwW3JlYWxUYWddID0gcGFyZW50TWFwW3JlYWxUYWddID8gcGFyZW50TWFwW3JlYWxUYWddICsgMSA6IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBCQkNPREVQYXJzZXIuU1RBVEVfTk9STUFMO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEJCQ09ERVBhcnNlci5TVEFURV9CQkNPREVfQ0xPU0VfU1RBUlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnID0gdG1wLnN1YnN0cmluZygyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZ2V0SGFuZGxlcih0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlciAmJiAhaGFuZGxlci5pc1NlbGZDbG9zZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDbG9zZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dDogd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJCQ09ERVBhcnNlci5UWVBFX1RFWFQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBub2RlLnZhbHVlICsgY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQkJDT0RFUGFyc2VyLlRZUEVfQkJDT0RFX09QRU46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRhZyA9IG5vZGUudmFsdWUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE1hcFtzdWJUYWddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TWFwW3N1YlRhZ10gPSBNYXRoLm1heChwYXJlbnRNYXBbc3ViVGFnXSAtIDEsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gc3ViVGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnRyYW5zZm9ybVRhZyhub2RlLnZhbHVlLCBjb250ZW50LCBub2RlLmFyZywgZm9yRWRpdG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2xvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLnRyYW5zZm9ybVRhZyhub2RlLnZhbHVlLCBjb250ZW50LCBub2RlLmFyZywgZm9yRWRpdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VjY2Vzc0Nsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gdG1wICsgJ10nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3R5cGU6IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQsIHZhbHVlOiBjb250ZW50fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBCQkNPREVQYXJzZXIuU1RBVEVfTk9STUFMO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRtcCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBsZXQgbm9kZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB3aGlsZSAobm9kZSA9IHN0YWNrLnBvcCgpKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09IEJCQ09ERVBhcnNlci5UWVBFX0JCQ09ERV9PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG1wLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdG1wO1xyXG4gICAgICAgICAgICAgICAgICAgIHRtcCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy50cmFuc2Zvcm1UYWcobm9kZS52YWx1ZSwgcmVzdWx0LCBub2RlLmFyZywgZm9yRWRpdG9yKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5vZGUudmFsdWUgKyByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRtcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXG4vZywgJzxici8+Jyk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBodG1sMmJiY29kZShodG1sOiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGRvbUxpc3QgPSBBcnJheS5mcm9tKG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uY2hpbGROb2Rlcyk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgICAgIGZvciAoY29uc3QgZG9tIG9mIGRvbUxpc3QpIHtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMucmVzb2x2ZU5vZGUoZG9tLCBmb3JFZGl0b3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzb2x2ZU5vZGUobm9kZXM6IE5vZGVzLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobm9kZXMpKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlcyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG5vZGVzIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIG5vZGVzID0gQXJyYXkuZnJvbShub2Rlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlcyA9IFtub2Rlc107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBub2RlLkVMRU1FTlRfTk9ERToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBub2RlIGFzIEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuZ2V0QXR0cmlidXRlKCdkYXRhLWNrZS10ZW1wJykgPT09ICcxJyB8fCBlLmNsYXNzTGlzdC5jb250YWlucygnY2tlX3dpZGdldF9wYXJ0aWFsX21hc2snKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYnInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiYmNvZGVUYWcgPSBlLmdldEF0dHJpYnV0ZSgnZGF0YS10YWcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJiY29kZVRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYmNvZGVUYWcgPSBlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZ2V0SGFuZGxlcihiYmNvZGVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBoYW5kbGVyLmRlY29kZUZyb21IdG1sKGUsIHRoaXMucmVzb2x2ZU5vZGUuYmluZCh0aGlzKSwgZm9yRWRpdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5yZXNvbHZlTm9kZShBcnJheS5mcm9tKG5vZGUuY2hpbGROb2RlcyksIGZvckVkaXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBub2RlLlRFWFRfTk9ERToge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoL1tcXG5cXHIgXS9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRhZ0hhbmRsZXIge1xyXG4gICAgYWJzdHJhY3QgdGFnTmFtZSgpOiBzdHJpbmc7XHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKbmmK/oh6rlhbPpl63moIfnrb7vvIzlr7nkuo7oh6rlhbPpl63moIfnrb7kvJrmjIljb250ZW505Li656m677yM5Zyob3BlbiB0YWfnu5PmnZ/lkI7nq4vliLvop6PmnpBcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzU2VsZkNsb3NlKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFgeiuuOeahOeItuWFg+e0oO+8jOeVmeepuuihqOekuuWFqOmDqOWFgeiuuFxyXG4gICAgICogQHJldHVybiB7c3RyaW5nW119XHJcbiAgICAgKi9cclxuICAgIGFsbG93UGFyZW50cyh0YWdMYWJlbDogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFnTGFiZWwg55So5oi36L6T5YWl55qEdGFnTmFtZVxyXG4gICAgICogQHBhcmFtIGFyZyDnlKjmiLflnKhvcGVuIHRhZ+S4reWGmeeahOWPguaVsFxyXG4gICAgICogQHBhcmFtIGNvbnRlbnQg5byA6Zet5qCH562+5Lit6Ze055qE5YaF5a6577yM6ZyA6KaB5rOo5oSP55qE5piv5Zyo5bWM5aWX5qCH562+55qE5oOF5Ya15LiL77yM5aSW5bGC5qCH562+5b6X5Yiw55qEY29udGVudOaYr+W3sue7j+iiq+WGheWxguagh+etvuWkhOeQhuWujOS5i+WQjueahOe7k+aenFxyXG4gICAgICogQHBhcmFtIGZvckVkaXRvciDmmK/lkKbmmK/kuLrnvJbovpHlmajnlJ/miJBodG1s77yI5Li657yW6L6R5Zmo55Sf5oiQ55qEaHRtbOWPquWPr+eUqOS6jue8lui+keWZqO+8jOS4juato+W4uOa4suafk+aViOaenOS4jeWQjO+8iVxyXG4gICAgICovXHJcbiAgICBhYnN0cmFjdCBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHwgZmFsc2U7XHJcbiAgICBhYnN0cmFjdCBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNvbHZlRnVuOiAobm9kZTogTm9kZXMsIGZvckVkaXRvcjogYm9vbGVhbikgPT4gc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcgfCBmYWxzZTtcclxuXHJcbiAgICBzcGxpdEFyZ3MocmF3QXJnOiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHJhd0FyZy5zcGxpdCgnOycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbWJpbmVBcmdzKGFyZ3M6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3NbaV07XHJcbiAgICAgICAgICAgIGlmIChhcmcpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFyZyArIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoZmxhZyB8fCBhcmcpICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAnOycgKyByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVyQm9sZCBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnYic7XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDwke3RoaXMudGFnTmFtZSgpfT4ke2NvbnRlbnR9PC8ke3RoaXMudGFnTmFtZSgpfT5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFtiXSR7cmVzb2x2ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMsIGZvckVkaXRvcil9Wy9iXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJJdGFsaWMgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2knO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDwke3RoaXMudGFnTmFtZSgpfT4ke2NvbnRlbnR9PC8ke3RoaXMudGFnTmFtZSgpfT5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFtpXSR7cmVzb2x2ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMsIGZvckVkaXRvcil9Wy9pXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJDb2xvciBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnY29sb3InO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmcubWF0Y2goL15bMC05YS1mQS1GXXs2fSQvKSkge1xyXG4gICAgICAgICAgICBhcmcgPSAnIycgKyBhcmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWPquaciWZvbnTog73lkIzml7blhbzlrrnooYzlhoXlhYPntKDlkozlnZfnirblhYPntKDvvIzmiYDku6XljbPkvr/mmK9mb2506KKr5byD55So5Lmf5b6X55So6L+Z5LiqXHJcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEh0bWxEZXByZWNhdGVkVGFnLEh0bWxEZXByZWNhdGVkQXR0cmlidXRlXHJcbiAgICAgICAgcmV0dXJuIGA8Zm9udCBjb2xvcj1cIiR7YXJnfVwiIGRhdGEtdGFnPVwiY29sb3JcIj4ke2NvbnRlbnR9PC9mb250PmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzb2x2ZUZ1bjogKG5vZGU6IE5vZGVzLCBmb3JFZGl0b3I6IGJvb2xlYW4pID0+IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiBgW2NvbG9yPSR7ZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbG9yJyl9XSR7cmVzb2x2ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMsIGZvckVkaXRvcil9Wy9jb2xvcl1gO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlclNpemUgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3NpemUnO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmcgfHwgIWFyZy5tYXRjaCgvXlsxLTddJC8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlj6rmnIlmb2506IO95ZCM5pe25YW85a656KGM5YaF5YWD57Sg5ZKM5Z2X54q25YWD57Sg77yM5omA5Lul5Y2z5L6/5pivZm9udOiiq+W8g+eUqOS5n+W+l+eUqOi/meS4qlxyXG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBIdG1sRGVwcmVjYXRlZFRhZyxIdG1sRGVwcmVjYXRlZEF0dHJpYnV0ZVxyXG4gICAgICAgIHJldHVybiBgPGZvbnQgc2l6ZT1cIiR7YXJnfVwiIGRhdGEtdGFnPVwic2l6ZVwiPiR7Y29udGVudH08L2ZvbnQ+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNvbHZlRnVuOiAobm9kZTogTm9kZXMsIGZvckVkaXRvcjogYm9vbGVhbikgPT4gc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGBbc2l6ZT0ke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdzaXplJyl9XSR7cmVzb2x2ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMsIGZvckVkaXRvcil9Wy9zaXplXWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVyTWFzayBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnbWFzayc7XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm9yRWRpdG9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBkYXRhLXRhZz1cIm1hc2tcIiBjbGFzcz1cIm1hc2tcIiB0aXRsZT1cIum7keW5leWGheWuuVwiPiR7Y29udGVudH08L2Rpdj5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm1hc2tcIj48c3BhbiBjbGFzcz1cImhlaW11XCIgdGl0bGU9XCLkvaDnn6XpgZPnmoTlpKrlpJrkuoZcIj4ke2NvbnRlbnR9PC9zcGFuPjwvZGl2PmA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFttYXNrXSR7cmVzb2x2ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMsIGZvckVkaXRvcil9Wy9tYXNrXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJDb2xsYXBzZSBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnY29sbGFwc2UnO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKGFyZyAmJiBhcmcuaW5kZXhPZigndGl0bGU9JykgPT09IDApIHtcclxuICAgICAgICAgICAgYXJnID0gYXJnLnN1YnN0cmluZyg2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmcpIHtcclxuICAgICAgICAgICAgYXJnID0gXCLngrnlh7vlsZXlvIBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm9yRWRpdG9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBkYXRhLXRhZz1cImNvbGxhcHNlXCIgY2xhc3M9XCJjb2xsYXBzZVwiPjxzcGFuPuaKmOWPoOagh+mimO+8mjwvc3Bhbj48ZGl2IGNsYXNzPVwiY29sbGFwc2UtdGl0bGVcIj4ke2FyZ308L2Rpdj48c3Bhbj7mipjlj6DlhoXlrrnvvJo8L3NwYW4+PGRpdiBjbGFzcz1cImNvbGxhcHNlLWNvbnRlbnRcIj4ke2NvbnRlbnR9PC9kaXY+PC9kaXY+YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgZGF0YS10YWc9XCJjb2xsYXBzZVwiPjxkZXRhaWxzPjxzdW1tYXJ5PjxiIGNsYXNzPVwiY29sbGFwc2UtdGl0bGVcIj4ke2FyZ308L2I+PC9zdW1tYXJ5PjxkaXYgY2xhc3M9XCJjb2xsYXBzZS1jb250ZW50XCI+JHtjb250ZW50fTwvZGl2PjwvZGV0YWlscz48L2Rpdj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNvbHZlRnVuOiAobm9kZTogTm9kZXMsIGZvckVkaXRvcjogYm9vbGVhbikgPT4gc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgY29uc3QgdGl0bGVFID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb2xsYXBzZS10aXRsZScpO1xyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVFLmxlbmd0aCA+IDAgPyB0aXRsZUVbMF0udGV4dENvbnRlbnQgOiAn54K55Ye75bGV5byAJztcclxuICAgICAgICBjb25zdCBjb250ZW50RSA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY29sbGFwc2UtY29udGVudCcpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50RS5sZW5ndGggPiAwID8gcmVzb2x2ZUZ1bihjb250ZW50RVswXSwgZm9yRWRpdG9yKSA6ICcnO1xyXG4gICAgICAgIHJldHVybiBgW2NvbGxhcHNlPSR7dGl0bGV9XSR7Y29udGVudH1bL2NvbGxhcHNlXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJEaWNlIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdkaWNlJztcclxuICAgIH07XHJcblxyXG4gICAgZW5jb2RlVG9IdG1sKHRhZ0xhYmVsOiBzdHJpbmcsIGFyZzogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIGlmICghY29udGVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb250ZW50Lm1hdGNoKC9eKChcXGR7MSw3fSl8KFxcZHswLDd9ZFxcZHsxLDd9KSkoWytcXC1dKChcXGR7MSw3fSl8KFxcZHswLDd9ZFxcZHsxLDd9KSkpKiQvKSkge1xyXG4gICAgICAgICAgICBpZiAoZm9yRWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXYgZGF0YS10YWc9XCJkaWNlXCIgY2xhc3M9XCJkaWNlXCI+PHNwYW4+PGI+6aqw5a2QUk9MTOeCueihqOi+vuW8j++8mjwvYj48L3NwYW4+PGRpdiBjbGFzcz1cImRpY2UtZXhwcmVzc2lvblwiPiR7Y29udGVudH08L2Rpdj48L2Rpdj5gO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZGljZVwiPuWBh+ijheaciemqsOWomO+8miR7Y29udGVudH09JHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyMDApfTwvZGl2PmA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBjb25zdCBleHBzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaWNlLWV4cHJlc3Npb24nKTtcclxuICAgICAgICBjb25zdCBleHAgPSBleHBzLmxlbmd0aCA+IDAgPyBleHBzWzBdLnRleHRDb250ZW50LnJlcGxhY2UoL1xcdTIwMEIvZywnJykgOiAnJztcclxuICAgICAgICBpZiAoIWV4cCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgW2RpY2VdJHtleHB9Wy9kaWNlXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJVbmRlcmxpbmUgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3UnO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDwke3RoaXMudGFnTmFtZSgpfT4ke2NvbnRlbnR9PC8ke3RoaXMudGFnTmFtZSgpfT5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFt1XSR7cmVzb2x2ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMsIGZvckVkaXRvcil9Wy91XWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJTdHJpa2UgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2RlbCc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ0FsaWFzZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ3MnXTtcclxuICAgIH1cclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGA8cz4ke2NvbnRlbnR9PC9zPmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzb2x2ZUZ1bjogKG5vZGU6IE5vZGVzLCBmb3JFZGl0b3I6IGJvb2xlYW4pID0+IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiBgW2RlbF0ke3Jlc29sdmVGdW4oZWxlbWVudC5jaGlsZE5vZGVzLCBmb3JFZGl0b3IpfVsvZGVsXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJJbWFnZSBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnaW1nJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBpc1NlbGZDbG9zZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuc3BsaXRBcmdzKGFyZyk7XHJcbiAgICAgICAgY29uc3Qgc3JjID0gYXJnc1swXSB8fCAnIyc7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBhcmdzLmxlbmd0aCA+IDEgPyBwYXJzZUludChhcmdzWzFdKSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3MubGVuZ3RoID4gMiA/IHBhcnNlSW50KGFyZ3NbMl0pIDogJyc7XHJcbiAgICAgICAgY29uc3QgZmxvYXQgPSBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogJyc7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBgPGltZyBzcmM9XCIke3NyY31cImA7XHJcbiAgICAgICAgbGV0IHN0eWxlVmFsdWUgPSAnJztcclxuICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgIHN0eWxlVmFsdWUgKz0gYHdpZHRoOiR7d2lkdGh9cHg7YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgc3R5bGVWYWx1ZSArPSBgaGVpZ2h0OiR7aGVpZ2h0fXB4O2A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoZmxvYXQpIHtcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6IHN0eWxlVmFsdWUgKz0gJ2Zsb2F0OmxlZnQ7JzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0Jzogc3R5bGVWYWx1ZSArPSAnZmxvYXQ6cmlnaHQ7JzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3R5bGVWYWx1ZSkge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gYCBzdHlsZT1cIiR7c3R5bGVWYWx1ZX1cImA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQgKyAnLz4nO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICAvLyDkuI3nn6XpgZPkuLrku4DkuYjlroPnmoTnsbvlnovlo7DmmI7msqHmnIlzdHlsZeWxnuaAp++8jOWPquiDveeUqGFueeW8uuihjOiwg+eUqOS6hlxyXG4gICAgICAgIGNvbnN0IGltZzogYW55ID0gZWxlbWVudDtcclxuICAgICAgICBjb25zdCBzcmMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBwYXJzZUludChpbWcuc3R5bGUud2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlSW50KGltZy5zdHlsZS5oZWlnaHQpO1xyXG4gICAgICAgIGNvbnN0IGZsb2F0ID0gaW1nLnN0eWxlLmZsb2F0O1xyXG4gICAgICAgIGxldCBhcmdzID0gdGhpcy5jb21iaW5lQXJncyhbc3JjLCB3aWR0aCwgaGVpZ2h0LCBmbG9hdF0pO1xyXG4gICAgICAgIGlmICghYXJncykge1xyXG4gICAgICAgICAgIGFyZ3MgPSAnIyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgW2ltZz0ke2FyZ3N9XWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJIb3Jpem9udGFsUnVsZSBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnaHInO1xyXG4gICAgfTtcclxuXHJcbiAgICBpc1NlbGZDbG9zZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICc8aHIvPic7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzb2x2ZUZ1bjogKG5vZGU6IE5vZGVzLCBmb3JFZGl0b3I6IGJvb2xlYW4pID0+IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiAnW2hyXSc7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJMaW5rIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICd1cmwnO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmcpIHtcclxuICAgICAgICAgICAgYXJnID0gJyMnXHJcbiAgICAgICAgfSBlbHNlIGlmICghYXJnLm1hdGNoKC9eKChodHRwc3xodHRwKTpcXC9cXC8pW15cXHNdKyQvKSkge1xyXG4gICAgICAgICAgICBhcmcgPSAnaHR0cDovLycgKyBhcmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgPGEgaHJlZj1cIiR7YXJnfVwiIGRhdGEtdGFnPVwidXJsXCI+JHtjb250ZW50fTwvYT5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc29sdmVGdW46IChub2RlOiBOb2RlcywgZm9yRWRpdG9yOiBib29sZWFuKSA9PiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbik6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFt1cmw9JHtlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpfV0ke2VsZW1lbnQudGV4dENvbnRlbnR9Wy91cmxdYDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlckJsb2NrcXVvdGUgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3F1b3RlJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnYmxvY2txdW90ZSddO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGA8YmxvY2txdW90ZSBkYXRhLXRhZz1cInF1b3RlXCI+PHA+JHtjb250ZW50fTwvcD48L2Jsb2NrcXVvdGU+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNvbHZlRnVuOiAobm9kZTogTm9kZXMsIGZvckVkaXRvcjogYm9vbGVhbikgPT4gc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGBbcXVvdGVdJHtyZXNvbHZlRnVuKGVsZW1lbnQuY2hpbGROb2RlcywgZm9yRWRpdG9yKX1bL3F1b3RlXWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVySGVhZGVyIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdoMSc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ0FsaWFzZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ2gyJywgJ2gzJ107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFnTGFiZWwgPSB0YWdMYWJlbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHJldHVybiBgPCR7dGFnTGFiZWx9PiR7Y29udGVudH08LyR7dGFnTGFiZWx9PmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzb2x2ZUZ1bjogKG5vZGU6IE5vZGVzLCBmb3JFZGl0b3I6IGJvb2xlYW4pID0+IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIGNvbnN0IHRhZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHJldHVybiBgWyR7dGFnfV0ke3Jlc29sdmVGdW4oZWxlbWVudC5jaGlsZE5vZGVzLCBmb3JFZGl0b3IpfVsvJHt0YWd9XWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJMaXN0IGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdsaXN0JztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsndWwnLCAnb2wnLCAnbGknLCAnKiddO1xyXG4gICAgfTtcclxuXHJcbiAgICBhbGxvd1BhcmVudHModGFnTGFiZWw6c3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0YWdMYWJlbCA9PT0gJyonID8gWydsaXN0J10gOiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRhZyA9ICcnO1xyXG4gICAgICAgIHN3aXRjaCAodGFnTGFiZWwpIHtcclxuICAgICAgICAgICAgY2FzZSAnbGlzdCc6XHJcbiAgICAgICAgICAgICAgICB0YWcgPSBhcmcgPyAnb2wnIDogJ3VsJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcqJzpcclxuICAgICAgICAgICAgICAgIHRhZyA9ICdsaSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDwke3RhZ30+JHtjb250ZW50fTwvJHt0YWd9PmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzb2x2ZUZ1bjogKG5vZGU6IE5vZGVzLCBmb3JFZGl0b3I6IGJvb2xlYW4pID0+IHN0cmluZywgZm9yRWRpdG9yOiBib29sZWFuKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHN3aXRjaCAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgY2FzZSAndWwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGBbbGlzdF0ke3Jlc29sdmVGdW4oZWxlbWVudC5jaGlsZE5vZGVzLCBmb3JFZGl0b3IpfVsvbGlzdF1gO1xyXG4gICAgICAgICAgICBjYXNlICdvbCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYFtsaXN0PTFdJHtyZXNvbHZlRnVuKGVsZW1lbnQuY2hpbGROb2RlcywgZm9yRWRpdG9yKX1bL2xpc3RdYDtcclxuICAgICAgICAgICAgY2FzZSAnbGknOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGBbKl0ke3Jlc29sdmVGdW4oZWxlbWVudC5jaGlsZE5vZGVzLCBmb3JFZGl0b3IpfWA7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlck5vdGljZSBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnbm90aWNlJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnZmVlZGJhY2snLCAnZXNzZW5jZSddO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU2VsZkNsb3NlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHR5cGVNYXA6IGFueSA9IHtcclxuICAgICAgICAnanV0b3UnOiB7XHJcbiAgICAgICAgICAgIGltZ1NyYzogJ2h0dHBzOi8vZ2l0ZWUuY29tL25lbW8xMTY2L2ltZy1nYWxsZXJ5L3Jhdy9tYXN0ZXIvaW1nLyVFNSU4RiVBRiVFOSU5QyVCMiVFNSVCOCU4QyVFNSVCMCU5NF8lRTclOUMlOEIlRTQlQjklQTYucG5nJyxcclxuICAgICAgICAgICAgYm94Q2xhc3M6ICdhbWJveCBhbWJveC1ibHVlJyxcclxuICAgICAgICAgICAgc3BlZWNoOiAn5Y2a5aOr77yM6L+Z5Yeg6aG15oiR5YWI5biu5L2g5a2Y552A44CCJyxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiAnPGI+5pys5biW5YaF5a655ZCr5Ymn6YCP5oiQ5YiG44CCPC9iPuaDs+imgeS6q+WPl+a4uOaIj+aOoue0oi/op6PosJzkuZDotqPnmoTnjqnlrrbor7foh6rooYznprvlvIDjgIInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3JtdCc6IHtcclxuICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9naXRlZS5jb20vbmVtbzExNjYvaW1nLWdhbGxlcnkvcmF3L21hc3Rlci9pbWcvMjA3MjBhYWFjOTZiYjgyNDU3MGVjOTJmNjUxZmZkN2JlODQzNzBiOC5wbmcnLFxyXG4gICAgICAgICAgICBib3hDbGFzczogJ2FtYm94IGFtYm94LWJsdWUnLFxyXG4gICAgICAgICAgICBzcGVlY2g6ICflsI/lv4PpkrHljIXvvIjov5nlj6Xor53mmK/pmL/nsbPlqIXor7TnmoTvvIknLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246ICc8Yj7or6XluJblrZDmtonlj4rnjrDlrp7otKfluIHkuqTmmJPjgII8L2I+6K+35rOo5oSP6LWE5Lqn5a6J5YWo44CCJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwcmVkaWN0Jzoge1xyXG4gICAgICAgICAgICBpbWdTcmM6ICdodHRwczovL2dpdGVlLmNvbS9uZW1vMTE2Ni9pbWctZ2FsbGVyeS9yYXcvbWFzdGVyL2ltZy85MTU2YWI5MDEzOWM3NmRiZWI3NDIwMzg0YzJhYzY5MWFiODYwOTdmLnBuZycsXHJcbiAgICAgICAgICAgIGJveENsYXNzOiAnYW1ib3ggYW1ib3gtYmx1ZScsXHJcbiAgICAgICAgICAgIHNwZWVjaDogJ+e9l+W+t+Wym+eahOaho+ahiOmHjOayoeacieivti4uLicsXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogJzxiPuivpeW4luWtkOWQq+aOqOa1i+WGheWuueOAgjwvYj7or7fku6Xlrpjmlrnmtojmga/kuLrlh4bvvIzlsI/lv4PnlITliKvjgIInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3dhcm4nOiB7XHJcbiAgICAgICAgICAgIGltZ1NyYzogJ2h0dHBzOi8vZ2l0ZWUuY29tL25lbW8xMTY2L2ltZy1nYWxsZXJ5L3Jhdy9tYXN0ZXIvaW1nLzIwMjEwNjI2MjEzNzMzLnBuZycsXHJcbiAgICAgICAgICAgIGJveENsYXNzOiAnYW1ib3ggYW1ib3gtcmVkJyxcclxuICAgICAgICAgICAgc3BlZWNoOiAn6K2m5ZGK77yB5Y2a5aOr5L2g5ZGA5b+r6KKr5ZCK5Yiw6Iiw5qGl5LiK5LqG5ZOmLi4uJyxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiAnPGI+5oKo55qE5biW5a2Q5bey5ri46LWw5Zyo6L+d6KeE6L6557yY77yM6K+35Y+K5pe25pu05pS577yBPC9iPicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncmVjJzoge1xyXG4gICAgICAgICAgICBpbWdTcmM6ICdodHRwczovL2dpdGVlLmNvbS9uZW1vMTE2Ni9pbWctZ2FsbGVyeS9yYXcvbWFzdGVyL2ltZy80OTQ1YjY5ODIwOWUyZTczYmMxMjlhOTAyNmZjNjI1YTc4YWQ4MzcwLnBuZycsXHJcbiAgICAgICAgICAgIGJveENsYXNzOiAnYW1ib3ggYW1ib3gtdmlvbGV0JyxcclxuICAgICAgICAgICAgc3BlZWNoOiAn6L+Z5Liq6Zeu6aKY5bel56iL6YOo5bey57uP55+l6YGT5ZWm77yB5q2j5Zyo5Yqg54+t5Yqg54K55oqi5L+u77yBJyxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiAnPGI+5omA5Y+N6aaI5YaF5a655bey6K6w5b2VPC9iPu+8jOivt+iAkOW/g+etieW+heOAgicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3VjYyc6IHtcclxuICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9naXRlZS5jb20vbmVtbzExNjYvaW1nLWdhbGxlcnkvcmF3L21hc3Rlci9pbWcvMDJiNGI4N2Q0NDEyZjRhOTNkMmY2ZDU2ZjY0NzlmZDU5OTE4YTdjYy5wbmcnLFxyXG4gICAgICAgICAgICBib3hDbGFzczogJ2FtYm94IGFtYm94LWdyZWVuJyxcclxuICAgICAgICAgICAgc3BlZWNoOiAn5ZO85ZO877yB6L+Z5Liq6Zeu6aKY5bey57uP6Kej5Yaz5ZWm77yB5b+r56ew6LWe5LiA5LiL5Lyf5aSn55qE5Y+v6Zyy5biM5bCU77yBJyxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiAnPGI+5omA5Y+N6aaI5YaF5a655bey6Kej5YazPC9iPu+8jOivt+WFs+azqOiuuuWdm+WFrOWRiuOAgicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZmFpbCc6IHtcclxuICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9naXRlZS5jb20vbmVtbzExNjYvaW1nLWdhbGxlcnkvcmF3L21hc3Rlci9pbWcvMzJjMGM2NmZiNDE5YjlmZjVjOGVmYjVlZjk2NzI1NzYyN2Y4MDM3ZC5wbmcnLFxyXG4gICAgICAgICAgICBib3hDbGFzczogJ2FtYm94IGFtYm94LW9yYW5nZScsXHJcbiAgICAgICAgICAgIHNwZWVjaDogJ+WViuWRgC4uLui/meS4qumXrumimOacieeCuemavi4uLuS7gOS5iO+8n+S8n+Wkp+eahOWPr+mcsuW4jOWwlOaAjuS5iOWPr+iDveS4jeS8mu+8gScsXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogJ+aJgOWPjemmiOWGheWuueeUseS6juWQhOenjeWOn+WboDxpPuaaguaXtjwvaT7ml6Dms5Xop6PlhrPvvIzor7fosIXop6PjgIInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3Bvc3QnOiB7XHJcbiAgICAgICAgICAgIGltZ1NyYzogJ2h0dHBzOi8vZ2l0ZWUuY29tL25lbW8xMTY2L2ltZy1nYWxsZXJ5L3Jhdy9tYXN0ZXIvaW1nLzVhMjA3YmU3N2YzNDU3YTcyNjc4MmM0YzkwMzE4NmYzMTcwZDY4MGEucG5nJyxcclxuICAgICAgICAgICAgYm94Q2xhc3M6ICdhbWJveCBhbWJveC1lc3NlbmNlJyxcclxuICAgICAgICAgICAgc3BlZWNoOiAn6L+Z56+H5paH56ug5YaZ55qE5aW95qOS77yB6KaB5LiN5YG35YG355qE5Y2w5Ye65p2l5Y2W6ZKx5ZCn77yfJyxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiAn5oKo55qE5biW5a2Q5bey6L6+5Yiw5Yqg57K+5qCH5YeG77yM5oSf6LCi5oKo55qE5LuY5Ye677yBJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwYWludCc6IHtcclxuICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9naXRlZS5jb20vbmVtbzExNjYvaW1nLWdhbGxlcnkvcmF3L21hc3Rlci9pbWcvNWEyMDdiZTc3ZjM0NTdhNzI2NzgyYzRjOTAzMTg2ZjMxNzBkNjgwYS5wbmcnLFxyXG4gICAgICAgICAgICBib3hDbGFzczogJ2FtYm94IGFtYm94LWVzc2VuY2UnLFxyXG4gICAgICAgICAgICBzcGVlY2g6ICfov5nkuZ/lpKrlpb3nnIvllabvvIHog73orqnmiJHmi7/ljrvop4LmkankuIDkuIvlkJfvvJ/ll6/vvJ/kuI3kvJrlgbflgbfljZbpkrHllabvvIEnLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246ICfmgqjnmoTluJblrZDlt7Lovr7liLDliqDnsr7moIflh4bvvIzmhJ/osKLmgqjnmoTku5jlh7rvvIEnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3JwZyc6IHtcclxuICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9naXRlZS5jb20vbmVtbzExNjYvaW1nLWdhbGxlcnkvcmF3L21hc3Rlci9pbWcvNWEyMDdiZTc3ZjM0NTdhNzI2NzgyYzRjOTAzMTg2ZjMxNzBkNjgwYS5wbmcnLFxyXG4gICAgICAgICAgICBib3hDbGFzczogJ2FtYm94IGFtYm94LWVzc2VuY2UnLFxyXG4gICAgICAgICAgICBzcGVlY2g6ICflk6bvvIHov5nlsZXlvIDnnJ/mmK/lh7rkuY7mhI/mlpnllYrvvIHmi43kuKrnlLXlvbHlkKfvvIHotZrpkrHkuobmiJHkuIPkvaDkuInvvIEnLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246ICfmgqjnmoTluJblrZDlt7Lovr7liLDliqDnsr7moIflh4bvvIzmhJ/osKLmgqjnmoTku5jlh7rvvIEnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2thb2p1Jzoge1xyXG4gICAgICAgICAgICBpbWdTcmM6ICdodHRwczovL2dpdGVlLmNvbS9uZW1vMTE2Ni9pbWctZ2FsbGVyeS9yYXcvbWFzdGVyL2ltZy81YTIwN2JlNzdmMzQ1N2E3MjY3ODJjNGM5MDMxODZmMzE3MGQ2ODBhLnBuZycsXHJcbiAgICAgICAgICAgIGJveENsYXNzOiAnYW1ib3ggYW1ib3gtZXNzZW5jZScsXHJcbiAgICAgICAgICAgIHNwZWVjaDogJ+S7gC4uLuS7gOS5iO+8ge+8n+i/memDveiDveiuqeS9oOaJvuWHuuadpeeahO+8geaMuuS4jemUmeeahOWYm++8gScsXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogJ+aCqOeahOW4luWtkOW3sui+vuWIsOWKoOeyvuagh+WHhu+8jOaEn+iwouaCqOeahOS7mOWHuu+8gScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZ29uZ2x2ZSc6IHtcclxuICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9naXRlZS5jb20vbmVtbzExNjYvaW1nLWdhbGxlcnkvcmF3L21hc3Rlci9pbWcvNWEyMDdiZTc3ZjM0NTdhNzI2NzgyYzRjOTAzMTg2ZjMxNzBkNjgwYS5wbmcnLFxyXG4gICAgICAgICAgICBib3hDbGFzczogJ2FtYm94IGFtYm94LWVzc2VuY2UnLFxyXG4gICAgICAgICAgICBzcGVlY2g6ICflsYXnhLbmr5TmiJHlj6/pnLLluIzlsJTov5jopoHljonlrrMuLi7nnJ/mnInkvaDnmoTlkYDvvIEnLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246ICfmgqjnmoTluJblrZDlt7Lovr7liLDliqDnsr7moIflh4bvvIzmhJ/osKLmgqjnmoTku5jlh7rvvIEnLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdHlwZUdyb3VwTWFwOiBhbnkgPSB7XHJcbiAgICAgICAgJ2p1dG91JzogJ25vdGljZScsXHJcbiAgICAgICAgJ3JtdCc6ICdub3RpY2UnLFxyXG4gICAgICAgICdwcmVkaWN0JzogJ25vdGljZScsXHJcbiAgICAgICAgJ3dhcm4nOiAnbm90aWNlJyxcclxuICAgICAgICAncmVjJzogJ2ZlZWRiYWNrJyxcclxuICAgICAgICAnc3VjYyc6ICdmZWVkYmFjaycsXHJcbiAgICAgICAgJ2ZhaWwnOiAnZmVlZGJhY2snLFxyXG4gICAgICAgICdwb3N0JzogJ2Vzc2VuY2UnLFxyXG4gICAgICAgICdwYWludCc6ICdlc3NlbmNlJyxcclxuICAgICAgICAncnBnJzogJ2Vzc2VuY2UnLFxyXG4gICAgICAgICdrYW9qdSc6ICdlc3NlbmNlJyxcclxuICAgICAgICAnZ29uZ2x2ZSc6ICdlc3NlbmNlJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvLyDmi7zpn7PlhbzlrrlcclxuICAgICAgICBUYWdIYW5kbGVyTm90aWNlLnR5cGVNYXBbJ2dvbmdsdWUnXSA9IFRhZ0hhbmRsZXJOb3RpY2UudHlwZU1hcFsnZ29uZ2x2ZSddO1xyXG4gICAgICAgIFRhZ0hhbmRsZXJOb3RpY2UudHlwZUdyb3VwTWFwWydnb25nbHVlJ10gPSBUYWdIYW5kbGVyTm90aWNlLnR5cGVHcm91cE1hcFsnZ29uZ2x2ZSddO1xyXG4gICAgfVxyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBjb25zdCBhdHRyID0gVGFnSGFuZGxlck5vdGljZS50eXBlTWFwW2FyZ107XHJcbiAgICAgICAgaWYgKCFhdHRyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgW25vdGljZT0ke2FyZ31dYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEh0bWxSZXF1aXJlZEFsdEF0dHJpYnV0ZVxyXG4gICAgICAgIHJldHVybiBgPGRpdiBkYXRhLXRhZz1cIm5vdGljZVwiIGRhdGEtbm90aWNlLXR5cGU9XCIke2FyZ31cIiBjbGFzcz1cImFtYm94XCI+PHRhYmxlIGNsYXNzPVwiJHthdHRyLmJveENsYXNzfVwiPjx0Ym9keT48dHI+PHRkIGNsYXNzPVwiYW1ib3gtaW1hZ2VcIj48aW1nIHNyYz1cIiR7YXR0ci5pbWdTcmN9XCIvPjwvdGQ+PHRkIGNsYXNzPVwiYW1ib3gtbm90aWNlXCI+PHNwYW4gY2xhc3M9XCJub3RpY2UtYnViYmxlXCI+PHNwYW4gY2xhc3M9XCJub3RpY2UtYnViYmxlLWxpbmVcIj48L3NwYW4+PGk+PGIgY2xhc3M9XCJub3RpY2Utc3BlZWNoXCI+JHthdHRyLnNwZWVjaH08L2I+PC9pPjwvc3Bhbj48YnI+PHNwYW4gY2xhc3M9XCJub3RpY2UtdGV4dFwiPiR7YXR0ci5ub3RpZmljYXRpb259PC9zcGFuPjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNvbHZlRnVuOiAobm9kZTogTm9kZXMsIGZvckVkaXRvcjogYm9vbGVhbikgPT4gc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW5vdGljZS10eXBlJyk7XHJcbiAgICAgICAgaWYgKCF0eXBlIHx8ICFUYWdIYW5kbGVyTm90aWNlLnR5cGVNYXBbdHlwZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBncm91cCA9IFRhZ0hhbmRsZXJOb3RpY2UudHlwZUdyb3VwTWFwW3R5cGVdO1xyXG5cclxuICAgICAgICByZXR1cm4gYFske2dyb3VwfT0ke3R5cGV9XWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtUYWdIYW5kbGVyfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVyVmlkZW8gZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnYnZpZGVvJ107XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdHlwZU1hcDogYW55ID0ge1xyXG4gICAgICAgICdidmlkZW8nOiAnPGlmcmFtZSBzcmM9XCIvL3BsYXllci5iaWxpYmlsaS5jb20vcGxheWVyLmh0bWw/YnZpZD1fX1ZJREVPX1ZBTFVFX18mcGFnZT0xXCIgc2Nyb2xsaW5nPVwibm9cIiBib3JkZXI9XCIwXCIgZnJhbWVib3JkZXI9XCJub1wiIGZyYW1lc3BhY2luZz1cIjBcIiBhbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCIgd2lkdGg9XCI5NSVcIiBoZWlnaHQ9XCI2MDBcIj48L2lmcmFtZT4nXHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdHlwZUdyb3VwTWFwOiBhbnkgPSB7XHJcbiAgICAgICAgJ2J2aWRlbyc6IHtcclxuICAgICAgICAgICAgJ25hbWUnOiAnQuermScsXHJcbiAgICAgICAgICAgICd0eXBlJzogJ2J2aWRlbydcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8vIOm7mOiupGLnq5nop4bpopFcclxuICAgICAgICBUYWdIYW5kbGVyVmlkZW8udHlwZU1hcFsndmlkZW8nXSA9IFRhZ0hhbmRsZXJWaWRlby50eXBlTWFwWydidmlkZW8nXTtcclxuICAgICAgICBUYWdIYW5kbGVyVmlkZW8udHlwZUdyb3VwTWFwWyd2aWRlbyddID0gVGFnSGFuZGxlclZpZGVvLnR5cGVHcm91cE1hcFsnYnZpZGVvJ107XHJcbiAgICB9XHJcblxyXG4gICAgaXNTZWxmQ2xvc2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZW5jb2RlVG9IdG1sKHRhZ0xhYmVsOiBzdHJpbmcsIGFyZzogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIGlmIChhcmcgJiYgYXJnLmluZGV4T2YoJ2J2PScpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGFyZyA9IGFyZy5zdWJzdHJpbmcoMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYXJnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBUYWdIYW5kbGVyVmlkZW8udHlwZU1hcFt0YWdMYWJlbF07XHJcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYFske3RhZ0xhYmVsfT0ke2FyZ31dYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBUYWdIYW5kbGVyVmlkZW8udHlwZUdyb3VwTWFwW3RhZ0xhYmVsXTtcclxuICAgICAgICBpZiAoZm9yRWRpdG9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBkYXRhLXRhZz1cInZpZGVvXCIgY2xhc3M9XCJ2aWRlb1wiIGRhdGEtdmlkZW8tdHlwZT1cIiR7Z3JvdXAudHlwZX1cIiBkYXRhLXZpZGVvLXZhbHVlPVwiJHthcmd9XCI+6KeG6aKR5p2l5rqQ77yaPHNwYW4gY2xhc3M9XCJ2aWRlby10eXBlXCI+JHtncm91cC5uYW1lfTwvc3Bhbj48YnIvPuinhumikUlE77yaPHNwYW4gY2xhc3M9XCJ2aWRlby12YWx1ZVwiPiR7YXJnfTwvc3Bhbj48L2Rpdj5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBkYXRhLXRhZz1cInZpZGVvXCI+JHt0ZW1wbGF0ZS5yZXBsYWNlKC9fX1ZJREVPX1ZBTFVFX18vZywgYXJnKX08L2Rpdj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNvbHZlRnVuOiAobm9kZTogTm9kZXMsIGZvckVkaXRvcjogYm9vbGVhbikgPT4gc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4pOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpZGVvLXR5cGUnKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpZGVvLXZhbHVlJyk7XHJcbiAgICAgICAgaWYgKCF0eXBlIHx8ICF2YWx1ZSB8fCAhVGFnSGFuZGxlclZpZGVvLnR5cGVNYXBbdHlwZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBncm91cCA9IFRhZ0hhbmRsZXJWaWRlby50eXBlR3JvdXBNYXBbdHlwZV07XHJcblxyXG4gICAgICAgIHJldHVybiBgWyR7Z3JvdXAudHlwZX09JHt2YWx1ZX1dYDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCQkNPREVQYXJzZXIgfSBmcm9tICcuL0JCQ09ERVBhcnNlcic7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuL3RhZy9UYWdIYW5kbGVyJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlckJvbGQgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyQm9sZCc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJJdGFsaWMgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVySXRhbGljJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlckNvbG9yIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckNvbG9yJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlclNpemUgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyU2l6ZSc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJNYXNrIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlck1hc2snO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyQ29sbGFwc2UgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyQ29sbGFwc2UnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyRGljZSB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJEaWNlJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlclVuZGVybGluZSB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJVbmRlcmxpbmUnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyU3RyaWtlIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlclN0cmlrZSc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJJbWFnZSB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJJbWFnZSc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJIb3Jpem9udGFsUnVsZSB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJIb3Jpem9udGFsUnVsZSc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJMaW5rIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckxpbmsnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyQmxvY2txdW90ZSB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJCbG9ja3F1b3RlJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlckhlYWRlciB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJIZWFkZXInO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyTGlzdCB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJMaXN0JztcclxuaW1wb3J0IHtUYWdIYW5kbGVyTm90aWNlfSBmcm9tIFwiLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlck5vdGljZVwiO1xyXG5pbXBvcnQge1RhZ0hhbmRsZXJWaWRlb30gZnJvbSBcIi4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJWaWRlb1wiO1xyXG5cclxuY29uc3QgZGVmYXVsdEJCQ29kZVBhcnNlciA9IG5ldyBCQkNPREVQYXJzZXIoKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJCb2xkKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlckl0YWxpYygpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJVbmRlcmxpbmUoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyU3RyaWtlKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlckNvbG9yKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlclNpemUoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyTWFzaygpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJDb2xsYXBzZSgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJEaWNlKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlckltYWdlKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlckhvcml6b250YWxSdWxlKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlckxpbmsoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyQmxvY2txdW90ZSgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJIZWFkZXIoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyTGlzdCgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJOb3RpY2UoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyVmlkZW8oKSk7XHJcblxyXG5leHBvcnQgeyBkZWZhdWx0QkJDb2RlUGFyc2VyLCBUYWdIYW5kbGVyIH07XHJcblxyXG5kZWNsYXJlIHZhciBnbG9iYWw6IGFueTtcclxuZ2xvYmFsLkJCQ09ERSA9IHtcclxuICAgIG5ld1BhcnNlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQkJDT0RFUGFyc2VyKCk7XHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdFBhcnNlcjogZGVmYXVsdEJCQ29kZVBhcnNlcixcclxuICAgIGJiY29kZTJodG1sOiBmdW5jdGlvbiAocmF3Q29udGVudDogc3RyaW5nLCBmb3JFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0QkJDb2RlUGFyc2VyLmJiY29kZTJodG1sKHJhd0NvbnRlbnQsIGZvckVkaXRvcik7XHJcbiAgICB9LFxyXG4gICAgaHRtbDJiYmNvZGU6IGZ1bmN0aW9uIChodG1sOiBzdHJpbmcsIGZvckVkaXRvcjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRCQkNvZGVQYXJzZXIuaHRtbDJiYmNvZGUoaHRtbCwgZm9yRWRpdG9yKTtcclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==