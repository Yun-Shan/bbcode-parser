(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var r,o=function(){function t(){this.TAG_HANDLER_MAP={},this.TAG_ALIASES_MAP={}}return t.prototype.transformAsIs=function(t,r,o){return"["+(r?t+"="+r:t)+"]"+o+"[/"+t+"]"},t.prototype.transformTag=function(t,r,o){null==r&&(r=""),t=t.substring(1);var n=this.TAG_ALIASES_MAP[t];if(!n)return this.transformAsIs(t,o,r);var e=this.TAG_HANDLER_MAP[n];if(e){var u=e.encodeToHtml(n,o,r);if("string"==typeof u)return u}return this.transformAsIs(n,o,r)},t.prototype.filterXSS=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},t.prototype.registerTagHandler=function(t){this.TAG_HANDLER_MAP[t.tagName()]=t,this.TAG_ALIASES_MAP[t.tagName()]=t.tagName();for(var r=0,o=t.tagAliases();r<o.length;r++){var n=o[r];this.TAG_ALIASES_MAP[n]=t.tagName()}},t.prototype.getHandler=function(t){return t=this.TAG_ALIASES_MAP[t],this.TAG_HANDLER_MAP[t]},t.prototype.bbcode2html=function(r){for(var o=[],n=t.STATE_NORMAL,e="",u=0;u<r.length;u++){var i=r[u];switch(i){case"[":n===t.STATE_NORMAL&&u<r.length?(e.length>0&&(o.push({type:t.TYPE_TEXT,value:e.replace(/ /g,"&nbsp;")}),e=""),e="[","/"===r[u+1]?(n=t.STATE_BBCODE_CLOSE_START,e+="/",u++):n=t.STATE_BBCODE_OPEN_START):n===t.STATE_BBCODE_OPEN_START||n===t.STATE_BBCODE_CLOSE_START?e.length>0&&(o.push({type:t.TYPE_TEXT,value:e.replace(/ /g,"&nbsp;")}),e="["):e+=i;break;case"]":if(n===t.STATE_BBCODE_OPEN_START){var c="",a="",p=e.indexOf("=");p>0?(a=e.substring(p+1),c=e.substring(0,p)):c=e,(s=this.getHandler(c.substring(1)))?(s.isSelfClose()?o.push({type:t.TYPE_TEXT,value:this.transformTag(c,"",a.replace(/ /g,"&nbsp;"))}):o.push({type:t.TYPE_BBCODE_OPEN,value:c,arg:a.replace(/ /g,"&nbsp;")}),e=""):e+="]",n=t.STATE_NORMAL}else if(n===t.STATE_BBCODE_CLOSE_START){var s;if(c=e.substring(2),(s=this.getHandler(c))&&!s.isSelfClose()){var l="",f=!1;t:for(;;){var y=o.pop();if(!y)break;switch(y.type){case t.TYPE_TEXT:l=y.value+l;break;case t.TYPE_BBCODE_OPEN:if(y.value.substring(1)===e.substring(2)){o.push({type:t.TYPE_TEXT,value:this.transformTag(y.value,l,y.arg)}),l="",f=!0;break t}l=this.transformTag(y.value,l,y.arg)}}f||(l+=e+"]"),l.length>0&&o.push({type:t.TYPE_TEXT,value:l}),e="",n=t.STATE_NORMAL}else e+="]",n=t.STATE_NORMAL}else e+=i;break;case"\n":e+="<br/>";break;default:e+=i}}for(var _="",h=void 0;h=o.pop();)h.type===t.TYPE_BBCODE_OPEN?(e.length>0&&(_+=e,e=""),_=this.transformTag(h.value,_,h.arg)):h.type===t.TYPE_TEXT&&(_=h.value+_);return e.length>0&&(_+=e),console.log(_),_},t.prototype.html2bbcode=function(t){for(var r="",o=0,n=Array.from((new DOMParser).parseFromString(t,"text/html").getElementsByTagName("body")[0].childNodes);o<n.length;o++){var e=n[o];r+=this.resloveNode(e)}return r},t.prototype.resloveNode=function(t){var r="";Array.isArray(t)||(t=t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[t]);for(var o=0,n=t;o<n.length;o++){var e=n[o];switch(e.nodeType){case e.ELEMENT_NODE:var u=e;if("br"===u.tagName.toLowerCase()){r+="\n";break}var i=u.getAttribute("data-tag");i||(i=u.tagName.toLowerCase());var c=this.getHandler(i);r+=c?c.decodeFromHtml(u,this.resloveNode.bind(this)):this.resloveNode(Array.from(e.childNodes));break;case e.TEXT_NODE:r+=e.textContent.replace(/[\n\r ]/g,"")}}return r},t.STATE_NORMAL=0,t.STATE_BBCODE_OPEN_START=1,t.STATE_BBCODE_CLOSE_START=2,t.TYPE_TEXT=0,t.TYPE_BBCODE_OPEN=1,t}(),n=function(){function t(){}return t.prototype.isSelfClose=function(){return!1},t.prototype.splitArgs=function(t){return t.split(";")},t}(),e=(r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),u=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.tagName=function(){return"b"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},r.prototype.decodeFromHtml=function(t,r){return"[b]"+r(t.childNodes)+"[/b]"},r}(n),i=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return i(r,t),r.prototype.tagName=function(){return"i"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},r.prototype.decodeFromHtml=function(t,r){return"[i]"+r(t.childNodes)+"[/i]"},r}(n),a=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.tagName=function(){return"color"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?r?(r.match(/^[0-9a-fA-F]{6}$/)&&(r="#"+r),'<font color="'+r+'" data-tag="color">'+o+"</font>"):o:""},r.prototype.decodeFromHtml=function(t,r){return"[color="+t.getAttribute("color")+"]"+r(t.childNodes)+"[/color]"},r}(n),s=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return s(r,t),r.prototype.tagName=function(){return"size"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?r&&r.match(/^[1-7]$/)?'<font size="'+r+'" data-tag="size">'+o+"</font>":o:""},r.prototype.decodeFromHtml=function(t,r){return"[size="+t.getAttribute("size")+"]"+r(t.childNodes)+"[/size]"},r}(n),f=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return f(r,t),r.prototype.tagName=function(){return"mask"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?'<div class="mask"><span class="heimu" title="你知道的太多了">'+o+"</span></div>":""},r.prototype.decodeFromHtml=function(t,r){return"[mask]"+r(t.childNodes)+"[/mask]"},r}(n),_=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),h=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return _(r,t),r.prototype.tagName=function(){return"collapse"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return r||(r="点击展开"),0===r.indexOf("title=")&&(r=r.substring(6)),'<div data-tag="collapse"><details><summary><b class="collapse-title">'+r+'</b></summary><div class="collapse-content">'+o+"</div></details></div>"},r.prototype.decodeFromHtml=function(t,r){var o=t.getElementsByClassName("collapse-title"),n=o.length>0?o[0].textContent:"点击展开",e=t.getElementsByClassName("collapse-content");return"[collapse="+n+"]"+(e.length>0?r(e[0]):"")+"[/collapse]"},r}(n),g=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return g(r,t),r.prototype.tagName=function(){return"dice"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?!!o.match(/^((\d+)|(\d*d\d+))(\+((\d+)|(\d*d\d+)))*$/)&&'<div class="dice">假装有骰娘：'+o+"="+Math.round(200*Math.random())+"</div>":""},r.prototype.decodeFromHtml=function(t,r){return"DICE TODO"},r}(n),T=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return T(r,t),r.prototype.tagName=function(){return"u"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},r.prototype.decodeFromHtml=function(t,r){return"[u]"+r(t.childNodes)+"[/u]"},r}(n),O=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),A=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return O(r,t),r.prototype.tagName=function(){return"s"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?"<"+this.tagName()+">"+o+"</"+this.tagName()+">":""},r.prototype.decodeFromHtml=function(t,r){return"[s]"+r(t.childNodes)+"[/s]"},r}(n),b=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return b(r,t),r.prototype.tagName=function(){return"img"},r.prototype.tagAliases=function(){return[]},r.prototype.isSelfClose=function(){return!0},r.prototype.encodeToHtml=function(t,r,o){var n=this.splitArgs(r);return n[0],n.length>1&&n[1],n.length>2&&n[2],n.length>3&&n[3],n.length>4&&n[4],n.length>5&&n[5],"<"+this.tagName()+' src="'+r+'"/>'},r.prototype.decodeFromHtml=function(t,r){return"[img="+t.getAttribute("src")+"]"},r}(n),v=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),w=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return v(r,t),r.prototype.tagName=function(){return"hr"},r.prototype.tagAliases=function(){return[]},r.prototype.isSelfClose=function(){return!0},r.prototype.encodeToHtml=function(t,r,o){return"<hr/>"},r.prototype.decodeFromHtml=function(t,r){return"[hr]"},r}(n),N=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return N(r,t),r.prototype.tagName=function(){return"url"},r.prototype.tagAliases=function(){return[]},r.prototype.encodeToHtml=function(t,r,o){return o?(r?r.match(/^((https|http):\/\/)[^\s]+$/)||(r="http://"+r):r="#",'<a href="'+r+'" data-tag="url">'+o+"</a>"):""},r.prototype.decodeFromHtml=function(t,r){return"[url="+t.getAttribute("href")+"]"+t.textContent+"[/url]"},r}(n),S=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),H=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return S(r,t),r.prototype.tagName=function(){return"quote"},r.prototype.tagAliases=function(){return["blockquote"]},r.prototype.encodeToHtml=function(t,r,o){return o?'<blockquote data-tag="quote"><p>'+o+"</p></blockquote>":""},r.prototype.decodeFromHtml=function(t,r){return"[quote]"+r(t.childNodes)+"[/quote]"},r}(n),C=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),j=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return C(r,t),r.prototype.tagName=function(){return"h1"},r.prototype.tagAliases=function(){return["h2","h3"]},r.prototype.encodeToHtml=function(t,r,o){return o&&0!==o.trim().length?"<"+(t=t.toLowerCase())+">"+o+"</"+t+">":""},r.prototype.decodeFromHtml=function(t,r){var o=t.tagName.toLowerCase();return"["+o+"]"+r(t.childNodes)+"[/"+o+"]"},r}(n),B=new o;B.registerTagHandler(new u),B.registerTagHandler(new c),B.registerTagHandler(new m),B.registerTagHandler(new A),B.registerTagHandler(new p),B.registerTagHandler(new l),B.registerTagHandler(new y),B.registerTagHandler(new h),B.registerTagHandler(new d),B.registerTagHandler(new E),B.registerTagHandler(new w),B.registerTagHandler(new P),B.registerTagHandler(new H),B.registerTagHandler(new j),t.g.BBCODE={newParser:function(){return new o},defaultParser:B,bbcode2html:function(t){return B.bbcode2html(t)},html2bbcode:function(t){return B.html2bbcode(t)}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL0JCQ09ERVBhcnNlci50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9UYWdIYW5kbGVyLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJCb2xkLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJJdGFsaWMudHMiLCJ3ZWJwYWNrOi8vYmJjb2RlLXBhcnNlci8uL3NyYy90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckNvbG9yLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJTaXplLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJNYXNrLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJDb2xsYXBzZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyRGljZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyVW5kZXJsaW5lLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJTdHJpa2UudHMiLCJ3ZWJwYWNrOi8vYmJjb2RlLXBhcnNlci8uL3NyYy90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckltYWdlLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJIb3Jpem9udGFsUnVsZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyTGluay50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyQmxvY2txdW90ZS50cyIsIndlYnBhY2s6Ly9iYmNvZGUtcGFyc2VyLy4vc3JjL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVySGVhZGVyLnRzIiwid2VicGFjazovL2JiY29kZS1wYXJzZXIvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsIlRBR19IQU5ETEVSX01BUCIsIlRBR19BTElBU0VTX01BUCIsInRyYW5zZm9ybUFzSXMiLCJ0YWdOYW1lIiwiYXJnIiwiY29udGVudCIsInRyYW5zZm9ybVRhZyIsInRhZ0xhYmVsIiwic3Vic3RyaW5nIiwiaGFuZGxlciIsInJlc3VsdCIsImVuY29kZVRvSHRtbCIsImZpbHRlclhTUyIsInN0ciIsInJlcGxhY2UiLCJyZWdpc3RlclRhZ0hhbmRsZXIiLCJ0YWdBbGlhc2VzIiwiYWxpYXMiLCJnZXRIYW5kbGVyIiwiYmJjb2RlMmh0bWwiLCJyYXdDb250ZW50Iiwic3RhY2siLCJzdGF0ZSIsIkJCQ09ERVBhcnNlciIsIlNUQVRFX05PUk1BTCIsInRtcCIsImlkeCIsImxlbmd0aCIsImNoYXIiLCJwdXNoIiwidHlwZSIsIlRZUEVfVEVYVCIsInZhbHVlIiwiU1RBVEVfQkJDT0RFX0NMT1NFX1NUQVJUIiwiU1RBVEVfQkJDT0RFX09QRU5fU1RBUlQiLCJ0YWciLCJhcmdJZHgiLCJpbmRleE9mIiwiaXNTZWxmQ2xvc2UiLCJUWVBFX0JCQ09ERV9PUEVOIiwic3VjY2Vzc0Nsb3NlZCIsIm91dCIsInBvcCIsIm5vZGUiLCJ1bmRlZmluZWQiLCJjb25zb2xlIiwibG9nIiwiaHRtbDJiYmNvZGUiLCJodG1sIiwiQXJyYXkiLCJmcm9tIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjaGlsZE5vZGVzIiwiZG9tIiwicmVzbG92ZU5vZGUiLCJub2RlcyIsImlzQXJyYXkiLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwibm9kZVR5cGUiLCJFTEVNRU5UX05PREUiLCJ0b0xvd2VyQ2FzZSIsImJiY29kZVRhZyIsImdldEF0dHJpYnV0ZSIsImRlY29kZUZyb21IdG1sIiwiYmluZCIsIlRFWFRfTk9ERSIsInRleHRDb250ZW50Iiwic3BsaXRBcmdzIiwicmF3QXJnIiwic3BsaXQiLCJlbGVtZW50IiwicmVzbG92ZUZ1biIsIlRhZ0hhbmRsZXIiLCJtYXRjaCIsInRpdGxlRSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ0aXRsZSIsImNvbnRlbnRFIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiYXJncyIsInRyaW0iLCJkZWZhdWx0QkJDb2RlUGFyc2VyIiwiVGFnSGFuZGxlckJvbGQiLCJUYWdIYW5kbGVySXRhbGljIiwiVGFnSGFuZGxlclVuZGVybGluZSIsIlRhZ0hhbmRsZXJTdHJpa2UiLCJUYWdIYW5kbGVyQ29sb3IiLCJUYWdIYW5kbGVyU2l6ZSIsIlRhZ0hhbmRsZXJNYXNrIiwiVGFnSGFuZGxlckNvbGxhcHNlIiwiVGFnSGFuZGxlckRpY2UiLCJUYWdIYW5kbGVySW1hZ2UiLCJUYWdIYW5kbGVySG9yaXpvbnRhbFJ1bGUiLCJUYWdIYW5kbGVyTGluayIsIlRhZ0hhbmRsZXJCbG9ja3F1b3RlIiwiVGFnSGFuZGxlckhlYWRlciIsIkJCQ09ERSIsIm5ld1BhcnNlciIsImRlZmF1bHRQYXJzZXIiXSwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixHQ0QxQkEsRUFBb0JDLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT0MsTUFBUSxJQUFJQyxTQUFTLGNBQWIsR0FDZCxNQUFP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aEMrRCxFQUFvQnZFLG1CQUFtQixJQUFJd0UsR0FDM0NELEVBQW9CdkUsbUJBQW1CLElBQUl5RSxHQUMzQ0YsRUFBb0J2RSxtQkFBbUIsSUFBSTBFLEdBQzNDSCxFQUFvQnZFLG1CQUFtQixJQUFJMkUsR0FDM0NKLEVBQW9CdkUsbUJBQW1CLElBQUk0RSxHQUMzQ0wsRUFBb0J2RSxtQkFBbUIsSUFBSTZFLEdBQzNDTixFQUFvQnZFLG1CQUFtQixJQUFJOEUsR0FDM0NQLEVBQW9CdkUsbUJBQW1CLElBQUkrRSxHQUMzQ1IsRUFBb0J2RSxtQkFBbUIsSUFBSWdGLEdBQzNDVCxFQUFvQnZFLG1CQUFtQixJQUFJaUYsR0FDM0NWLEVBQW9CdkUsbUJBQW1CLElBQUlrRixHQUMzQ1gsRUFBb0J2RSxtQkFBbUIsSUFBSW1GLEdBQzNDWixFQUFvQnZFLG1CQUFtQixJQUFJb0YsR0FDM0NiLEVBQW9CdkUsbUJBQW1CLElBQUlxRixHQUszQyxFQUFBMUcsRUFBTzJHLE9BQVMsQ0FDWkMsVUFBVyxXQUNQLE9BQU8sSUFBSS9FLEdBRWZnRixjQUFlakIsRUFDZm5FLFlBQWEsU0FBVUMsR0FDbkIsT0FBT2tFLEVBQW9CbkUsWUFBWUMsSUFFM0MyQixZQUFhLFNBQVVDLEdBQ25CLE9BQU9zQyxFQUFvQnZDLFlBQVlDLE0iLCJmaWxlIjoiYmJjb2RlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4vdGFnL1RhZ0hhbmRsZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBCQkNPREVQYXJzZXIge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU1RBVEVfTk9STUFMID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUQVRFX0JCQ09ERV9PUEVOX1NUQVJUID0gMTtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUQVRFX0JCQ09ERV9DTE9TRV9TVEFSVCA9IDI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUWVBFX1RFWFQgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVFlQRV9CQkNPREVfT1BFTiA9IDE7XHJcblxyXG4gICAgcmVhZG9ubHkgVEFHX0hBTkRMRVJfTUFQOiB7IFtrZXk6IHN0cmluZ106IFRhZ0hhbmRsZXIgfSA9IHt9O1xyXG4gICAgcmVhZG9ubHkgVEFHX0FMSUFTRVNfTUFQOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcblxyXG4gICAgdHJhbnNmb3JtQXNJcyh0YWdOYW1lOiBzdHJpbmcsIGFyZzogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBvcGVuVGFnID0gJyc7XHJcbiAgICAgICAgaWYgKGFyZykge1xyXG4gICAgICAgICAgICBvcGVuVGFnID0gYCR7dGFnTmFtZX09JHthcmd9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcGVuVGFnID0gdGFnTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGBbJHtvcGVuVGFnfV0ke2NvbnRlbnR9Wy8ke3RhZ05hbWV9XWA7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtVGFnKHRhZ0xhYmVsOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgYXJnOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQgfHwgY29udGVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhZ0xhYmVsID0gdGFnTGFiZWwuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0aGlzLlRBR19BTElBU0VTX01BUFt0YWdMYWJlbF07XHJcbiAgICAgICAgaWYgKCF0YWdOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUFzSXModGFnTGFiZWwsIGFyZywgY29udGVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5UQUdfSEFORExFUl9NQVBbdGFnTmFtZV07XHJcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaGFuZGxlci5lbmNvZGVUb0h0bWwodGFnTmFtZSwgYXJnLCBjb250ZW50KTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUFzSXModGFnTmFtZSwgYXJnLCBjb250ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXJYU1Moc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBzdHJcclxuICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJyYjMzk7Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJUYWdIYW5kbGVyKGhhbmRsZXI6IFRhZ0hhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLlRBR19IQU5ETEVSX01BUFtoYW5kbGVyLnRhZ05hbWUoKV0gPSBoYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuVEFHX0FMSUFTRVNfTUFQW2hhbmRsZXIudGFnTmFtZSgpXSA9IGhhbmRsZXIudGFnTmFtZSgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgYWxpYXMgb2YgaGFuZGxlci50YWdBbGlhc2VzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5UQUdfQUxJQVNFU19NQVBbYWxpYXNdID0gaGFuZGxlci50YWdOYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SGFuZGxlcih0YWdOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0YWdOYW1lID0gdGhpcy5UQUdfQUxJQVNFU19NQVBbdGFnTmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVEFHX0hBTkRMRVJfTUFQW3RhZ05hbWVdO1xyXG4gICAgfVxyXG5cclxuLy8gVE9ETyDoh6rlrprkuYnop6PmnpDvvJrmoIfnrb7lhoXpg6jltYzlpZfnmoTmiYDmnInkuJzopb/pg73kuqTnu5noh6rlrprkuYnop6PmnpDlmajvvIzlj6/ku6Xoh6rooYzlpITnkIblhoXlrrnop6PmnpDjgILnlKjpgJTvvJpbY29kZV1bL2NvZGVd44CBW2xpc3RdWypdeHhbL2xpc3RdXHJcbi8vIFRPRE8g54m55q6K6Kej5p6Q77yaW2NvZGVd5qCH562+5bqU6K+l5b+955Wl5q2j5bi455qE6Zet5ZCI5qCH562+77yM55u05Yiw5om+5Yiw5LqGWy9jb2RlXeaIluiAheWIsOi+vuWtl+espuS4suacq+WwvlxyXG4gICAgYmJjb2RlMmh0bWwocmF3Q29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBUT0RPIGFueeaUueaOpeWPo1xyXG4gICAgICAgIGNvbnN0IHN0YWNrOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgIGxldCBzdGF0ZSA9IEJCQ09ERVBhcnNlci5TVEFURV9OT1JNQUw7XHJcbiAgICAgICAgbGV0IHRtcCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHJhd0NvbnRlbnQubGVuZ3RoOyBpZHgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gcmF3Q29udGVudFtpZHhdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1snOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBCQkNPREVQYXJzZXIuU1RBVEVfTk9STUFMICYmIGlkeCA8IHJhd0NvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7dHlwZTogQkJDT0RFUGFyc2VyLlRZUEVfVEVYVCwgdmFsdWU6IHRtcC5yZXBsYWNlKC8gL2csICcmbmJzcDsnKX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gJ1snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF3Q29udGVudFtpZHggKyAxXSA9PT0gJy8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IEJCQ09ERVBhcnNlci5TVEFURV9CQkNPREVfQ0xPU0VfU1RBUlQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgKz0gJy8nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IEJCQ09ERVBhcnNlci5TVEFURV9CQkNPREVfT1BFTl9TVEFSVDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEJCQ09ERVBhcnNlci5TVEFURV9CQkNPREVfT1BFTl9TVEFSVCB8fCBzdGF0ZSA9PT0gQkJDT0RFUGFyc2VyLlNUQVRFX0JCQ09ERV9DTE9TRV9TVEFSVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3R5cGU6IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQsIHZhbHVlOiB0bXAucmVwbGFjZSgvIC9nLCAnJm5ic3A7Jyl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9ICdbJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgJ10nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBCQkNPREVQYXJzZXIuU1RBVEVfQkJDT0RFX09QRU5fU1RBUlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJnID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcmdJZHggPSB0bXAuaW5kZXhPZignPScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnSWR4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gdG1wLnN1YnN0cmluZyhhcmdJZHggKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IHRtcC5zdWJzdHJpbmcoMCwgYXJnSWR4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IHRtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5nZXRIYW5kbGVyKHRhZy5zdWJzdHJpbmcoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuaXNTZWxmQ2xvc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCQkNPREVQYXJzZXIuVFlQRV9URVhULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy50cmFuc2Zvcm1UYWcodGFnLCAnJywgYXJnLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQkJDT0RFUGFyc2VyLlRZUEVfQkJDT0RFX09QRU4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0YWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZzogYXJnLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBCQkNPREVQYXJzZXIuU1RBVEVfTk9STUFMO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEJCQ09ERVBhcnNlci5TVEFURV9CQkNPREVfQ0xPU0VfU1RBUlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnID0gdG1wLnN1YnN0cmluZygyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZ2V0SGFuZGxlcih0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlciAmJiAhaGFuZGxlci5pc1NlbGZDbG9zZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDbG9zZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dDogd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJCQ09ERVBhcnNlci5UWVBFX1RFWFQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBub2RlLnZhbHVlICsgY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQkJDT0RFUGFyc2VyLlRZUEVfQkJDT0RFX09QRU46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnZhbHVlLnN1YnN0cmluZygxKSA9PT0gdG1wLnN1YnN0cmluZygyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCQkNPREVQYXJzZXIuVFlQRV9URVhULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy50cmFuc2Zvcm1UYWcobm9kZS52YWx1ZSwgY29udGVudCwgbm9kZS5hcmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDbG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IHRoaXMudHJhbnNmb3JtVGFnKG5vZGUudmFsdWUsIGNvbnRlbnQsIG5vZGUuYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VjY2Vzc0Nsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gdG1wICsgJ10nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3R5cGU6IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQsIHZhbHVlOiBjb250ZW50fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gQkJDT0RFUGFyc2VyLlNUQVRFX05PUk1BTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IEJCQ09ERVBhcnNlci5TVEFURV9OT1JNQUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgKz0gY2hhcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlICdcXG4nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wICs9ICc8YnIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgICAgIGxldCBub2RlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHdoaWxlIChub2RlID0gc3RhY2sucG9wKCkpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gQkJDT0RFUGFyc2VyLlRZUEVfQkJDT0RFX09QRU4pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0bXA7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnRyYW5zZm9ybVRhZyhub2RlLnZhbHVlLCByZXN1bHQsIG5vZGUuYXJnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IEJCQ09ERVBhcnNlci5UWVBFX1RFWFQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5vZGUudmFsdWUgKyByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRtcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBodG1sMmJiY29kZShodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBkb21MaXN0ID0gQXJyYXkuZnJvbShuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsICd0ZXh0L2h0bWwnKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmNoaWxkTm9kZXMpO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBmb3IgKGNvbnN0IGRvbSBvZiBkb21MaXN0KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnJlc2xvdmVOb2RlKGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNsb3ZlTm9kZShub2RlczogTm9kZXMpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobm9kZXMpKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlcyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG5vZGVzIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIG5vZGVzID0gQXJyYXkuZnJvbShub2Rlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlcyA9IFtub2Rlc107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBub2RlLkVMRU1FTlRfTk9ERToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBub2RlIGFzIEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYnInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiYmNvZGVUYWcgPSBlLmdldEF0dHJpYnV0ZSgnZGF0YS10YWcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJiY29kZVRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYmNvZGVUYWcgPSBlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZ2V0SGFuZGxlcihiYmNvZGVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBoYW5kbGVyLmRlY29kZUZyb21IdG1sKGUsIHRoaXMucmVzbG92ZU5vZGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMucmVzbG92ZU5vZGUoQXJyYXkuZnJvbShub2RlLmNoaWxkTm9kZXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIG5vZGUuVEVYVF9OT0RFOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSgvW1xcblxcciBdL2csICcnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgVGFnSGFuZGxlciB7XHJcbiAgICBhYnN0cmFjdCB0YWdOYW1lKCk6IHN0cmluZztcclxuICAgIGFic3RyYWN0IHRhZ0FsaWFzZXMoKTogc3RyaW5nW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKbmmK/oh6rlhbPpl63moIfnrb7vvIzlr7nkuo7oh6rlhbPpl63moIfnrb7kvJrmjIljb250ZW505Li656m677yM5Zyob3BlbiB0YWfnu5PmnZ/lkI7nq4vliLvop6PmnpBcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzU2VsZkNsb3NlKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFnTGFiZWwg55So5oi36L6T5YWl55qEdGFnTmFtZVxyXG4gICAgICogQHBhcmFtIGFyZyDnlKjmiLflnKhvcGVuIHRhZ+S4reWGmeeahOWPguaVsFxyXG4gICAgICogQHBhcmFtIGNvbnRlbnQg5byA6Zet5qCH562+5Lit6Ze055qE5YaF5a6577yM6ZyA6KaB5rOo5oSP55qE5piv5Zyo5bWM5aWX5qCH562+55qE5oOF5Ya15LiL77yM5aSW5bGC5qCH562+5b6X5Yiw55qEY29udGVudOaYr+W3sue7j+iiq+WGheWxguagh+etvuWkhOeQhuWujOS5i+WQjueahOe7k+aenFxyXG4gICAgICovXHJcbiAgICBhYnN0cmFjdCBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZ3xmYWxzZTtcclxuICAgIGFic3RyYWN0IGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc2xvdmVGdW46IChub2RlOiBOb2RlcykgPT4gc3RyaW5nKTogc3RyaW5nfGZhbHNlO1xyXG5cclxuICAgIHNwbGl0QXJncyhyYXdBcmc6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gcmF3QXJnLnNwbGl0KCc7Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlckJvbGQgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2InO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDwke3RoaXMudGFnTmFtZSgpfT4ke2NvbnRlbnR9PC8ke3RoaXMudGFnTmFtZSgpfT5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc2xvdmVGdW46IChub2RlOiBOb2RlcykgPT4gc3RyaW5nKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiBgW2JdJHtyZXNsb3ZlRnVuKGVsZW1lbnQuY2hpbGROb2Rlcyl9Wy9iXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJJdGFsaWMgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2knO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDwke3RoaXMudGFnTmFtZSgpfT4ke2NvbnRlbnR9PC8ke3RoaXMudGFnTmFtZSgpfT5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc2xvdmVGdW46IChub2RlOiBOb2RlcykgPT4gc3RyaW5nKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiBgW2ldJHtyZXNsb3ZlRnVuKGVsZW1lbnQuY2hpbGROb2Rlcyl9Wy9pXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJDb2xvciBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnY29sb3InO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFyZykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZy5tYXRjaCgvXlswLTlhLWZBLUZdezZ9JC8pKSB7XHJcbiAgICAgICAgICAgIGFyZyA9ICcjJyArIGFyZztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Y+q5pyJZm9udOiDveWQjOaXtuWFvOS7u+ihjOWGheWFg+e0oOWSjOWdl+eKtuWFg+e0oO+8jOaJgOS7peWNs+S+v+aYr2ZvbnTooqvlvIPnlKjkuZ/lvpfnlKjov5nkuKpcclxuICAgICAgICAvLyBub2luc3BlY3Rpb24gSHRtbERlcHJlY2F0ZWRUYWcsSHRtbERlcHJlY2F0ZWRBdHRyaWJ1dGVcclxuICAgICAgICByZXR1cm4gYDxmb250IGNvbG9yPVwiJHthcmd9XCIgZGF0YS10YWc9XCJjb2xvclwiPiR7Y29udGVudH08L2ZvbnQ+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNsb3ZlRnVuOiAobm9kZTogTm9kZXMpID0+IHN0cmluZyk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFtjb2xvcj0ke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdjb2xvcicpfV0ke3Jlc2xvdmVGdW4oZWxlbWVudC5jaGlsZE5vZGVzKX1bL2NvbG9yXWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVyU2l6ZSBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnc2l6ZSc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ0FsaWFzZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH07XHJcblxyXG4gICAgZW5jb2RlVG9IdG1sKHRhZ0xhYmVsOiBzdHJpbmcsIGFyZzogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghY29udGVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYXJnIHx8ICFhcmcubWF0Y2goL15bMS03XSQvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Y+q5pyJZm9udOiDveWQjOaXtuWFvOS7u+ihjOWGheWFg+e0oOWSjOWdl+eKtuWFg+e0oO+8jOaJgOS7peWNs+S+v+aYr2ZvbnTooqvlvIPnlKjkuZ/lvpfnlKjov5nkuKpcclxuICAgICAgICAvLyBub2luc3BlY3Rpb24gSHRtbERlcHJlY2F0ZWRUYWcsSHRtbERlcHJlY2F0ZWRBdHRyaWJ1dGVcclxuICAgICAgICByZXR1cm4gYDxmb250IHNpemU9XCIke2FyZ31cIiBkYXRhLXRhZz1cInNpemVcIj4ke2NvbnRlbnR9PC9mb250PmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzbG92ZUZ1bjogKG5vZGU6IE5vZGVzKSA9PiBzdHJpbmcpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGBbc2l6ZT0ke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdzaXplJyl9XSR7cmVzbG92ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMpfVsvc2l6ZV1gO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlck1hc2sgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ21hc2snO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXNrXCI+PHNwYW4gY2xhc3M9XCJoZWltdVwiIHRpdGxlPVwi5L2g55+l6YGT55qE5aSq5aSa5LqGXCI+JHtjb250ZW50fTwvc3Bhbj48L2Rpdj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZUZyb21IdG1sKGVsZW1lbnQ6IEVsZW1lbnQsIHJlc2xvdmVGdW46IChub2RlOiBOb2RlcykgPT4gc3RyaW5nKTogc3RyaW5nIHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiBgW21hc2tdJHtyZXNsb3ZlRnVuKGVsZW1lbnQuY2hpbGROb2Rlcyl9Wy9tYXNrXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJDb2xsYXBzZSBleHRlbmRzIFRhZ0hhbmRsZXIge1xyXG4gICAgdGFnTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnY29sbGFwc2UnO1xyXG4gICAgfTtcclxuXHJcbiAgICB0YWdBbGlhc2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWFyZykge1xyXG4gICAgICAgICAgICBhcmcgPSBcIueCueWHu+WxleW8gFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmcuaW5kZXhPZigndGl0bGU9JykgPT09IDApIHtcclxuICAgICAgICAgICAgYXJnID0gYXJnLnN1YnN0cmluZyg2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGRhdGEtdGFnPVwiY29sbGFwc2VcIj48ZGV0YWlscz48c3VtbWFyeT48YiBjbGFzcz1cImNvbGxhcHNlLXRpdGxlXCI+JHthcmd9PC9iPjwvc3VtbWFyeT48ZGl2IGNsYXNzPVwiY29sbGFwc2UtY29udGVudFwiPiR7Y29udGVudH08L2Rpdj48L2RldGFpbHM+PC9kaXY+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNsb3ZlRnVuOiAobm9kZTogTm9kZXMpID0+IHN0cmluZyk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICBjb25zdCB0aXRsZUUgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbGxhcHNlLXRpdGxlJyk7XHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZUUubGVuZ3RoID4gMCA/IHRpdGxlRVswXS50ZXh0Q29udGVudCA6ICfngrnlh7vlsZXlvIAnO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb2xsYXBzZS1jb250ZW50Jyk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRFLmxlbmd0aCA+IDAgPyByZXNsb3ZlRnVuKGNvbnRlbnRFWzBdKSA6ICcnO1xyXG4gICAgICAgIHJldHVybiBgW2NvbGxhcHNlPSR7dGl0bGV9XSR7Y29udGVudH1bL2NvbGxhcHNlXWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFnSGFuZGxlciB9IGZyb20gJy4uL1RhZ0hhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ0hhbmRsZXJEaWNlIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdkaWNlJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZ3xmYWxzZSB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbnRlbnQubWF0Y2goL14oKFxcZCspfChcXGQqZFxcZCspKShcXCsoKFxcZCspfChcXGQqZFxcZCspKSkqJC8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cImRpY2VcIj7lgYfoo4XmnInpqrDlqJjvvJoke2NvbnRlbnR9PSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjAwKX08L2Rpdj5gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzbG92ZUZ1bjogKG5vZGU6IE5vZGVzKSA9PiBzdHJpbmcpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGBESUNFIFRPRE9gO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVyVW5kZXJsaW5lIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICd1JztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGA8JHt0aGlzLnRhZ05hbWUoKX0+JHtjb250ZW50fTwvJHt0aGlzLnRhZ05hbWUoKX0+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNsb3ZlRnVuOiAobm9kZTogTm9kZXMpID0+IHN0cmluZyk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFt1XSR7cmVzbG92ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMpfVsvdV1gO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVyU3RyaWtlIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdzJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGA8JHt0aGlzLnRhZ05hbWUoKX0+JHtjb250ZW50fTwvJHt0aGlzLnRhZ05hbWUoKX0+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNsb3ZlRnVuOiAobm9kZTogTm9kZXMpID0+IHN0cmluZyk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFtzXSR7cmVzbG92ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMpfVsvc11gO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVySW1hZ2UgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2ltZyc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ0FsaWFzZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH07XHJcblxyXG4gICAgaXNTZWxmQ2xvc2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZW5jb2RlVG9IdG1sKHRhZ0xhYmVsOiBzdHJpbmcsIGFyZzogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLnNwbGl0QXJncyhhcmcpO1xyXG4gICAgICAgIGNvbnN0IHNyYyA9IGFyZ3NbMF07XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBhcmdzLmxlbmd0aCA+IDEgPyBhcmdzWzFdIDogJyc7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYXJncy5sZW5ndGggPiAyID8gYXJnc1syXSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IG1hcmdpbkggPSBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogJyc7XHJcbiAgICAgICAgY29uc3QgbWFyZ2luViA9IGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbNF0gOiAnJztcclxuICAgICAgICBjb25zdCBmbG9hdCA9IGFyZ3MubGVuZ3RoID4gNSA/IGFyZ3NbNV0gOiAnJztcclxuXHJcbiAgICAgICAgcmV0dXJuIGA8JHt0aGlzLnRhZ05hbWUoKX0gc3JjPVwiJHthcmd9XCIvPmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzbG92ZUZ1bjogKG5vZGU6IE5vZGVzKSA9PiBzdHJpbmcpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGBbaW1nPSR7ZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpfV1gO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVySG9yaXpvbnRhbFJ1bGUgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2hyJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBpc1NlbGZDbG9zZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICc8aHIvPic7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzbG92ZUZ1bjogKG5vZGU6IE5vZGVzKSA9PiBzdHJpbmcpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICdbaHJdJztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlckxpbmsgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3VybCc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ0FsaWFzZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH07XHJcblxyXG4gICAgZW5jb2RlVG9IdG1sKHRhZ0xhYmVsOiBzdHJpbmcsIGFyZzogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghY29udGVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYXJnKSB7XHJcbiAgICAgICAgICAgIGFyZyA9ICcjJ1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWFyZy5tYXRjaCgvXigoaHR0cHN8aHR0cCk6XFwvXFwvKVteXFxzXSskLykpIHtcclxuICAgICAgICAgICAgYXJnID0gJ2h0dHA6Ly8nICsgYXJnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYDxhIGhyZWY9XCIke2FyZ31cIiBkYXRhLXRhZz1cInVybFwiPiR7Y29udGVudH08L2E+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNsb3ZlRnVuOiAobm9kZTogTm9kZXMpID0+IHN0cmluZyk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFt1cmw9JHtlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpfV0ke2VsZW1lbnQudGV4dENvbnRlbnR9Wy91cmxdYDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi4vVGFnSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnSGFuZGxlckJsb2NrcXVvdGUgZXh0ZW5kcyBUYWdIYW5kbGVyIHtcclxuICAgIHRhZ05hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3F1b3RlJztcclxuICAgIH07XHJcblxyXG4gICAgdGFnQWxpYXNlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnYmxvY2txdW90ZSddO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmNvZGVUb0h0bWwodGFnTGFiZWw6IHN0cmluZywgYXJnOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGA8YmxvY2txdW90ZSBkYXRhLXRhZz1cInF1b3RlXCI+PHA+JHtjb250ZW50fTwvcD48L2Jsb2NrcXVvdGU+YDtcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVGcm9tSHRtbChlbGVtZW50OiBFbGVtZW50LCByZXNsb3ZlRnVuOiAobm9kZTogTm9kZXMpID0+IHN0cmluZyk6IHN0cmluZyB8IGZhbHNlIHtcclxuICAgICAgICByZXR1cm4gYFtxdW90ZV0ke3Jlc2xvdmVGdW4oZWxlbWVudC5jaGlsZE5vZGVzKX1bL3F1b3RlXWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFRhZ0hhbmRsZXIgfSBmcm9tICcuLi9UYWdIYW5kbGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdIYW5kbGVySGVhZGVyIGV4dGVuZHMgVGFnSGFuZGxlciB7XHJcbiAgICB0YWdOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdoMSc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ0FsaWFzZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ2gyJywgJ2gzJ107XHJcbiAgICB9O1xyXG5cclxuICAgIGVuY29kZVRvSHRtbCh0YWdMYWJlbDogc3RyaW5nLCBhcmc6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFnTGFiZWwgPSB0YWdMYWJlbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHJldHVybiBgPCR7dGFnTGFiZWx9PiR7Y29udGVudH08LyR7dGFnTGFiZWx9PmA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlRnJvbUh0bWwoZWxlbWVudDogRWxlbWVudCwgcmVzbG92ZUZ1bjogKG5vZGU6IE5vZGVzKSA9PiBzdHJpbmcpOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICAgICAgY29uc3QgdGFnID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgcmV0dXJuIGBbJHt0YWd9XSR7cmVzbG92ZUZ1bihlbGVtZW50LmNoaWxkTm9kZXMpfVsvJHt0YWd9XWA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQkJDT0RFUGFyc2VyIH0gZnJvbSAnLi9CQkNPREVQYXJzZXInO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyIH0gZnJvbSAnLi90YWcvVGFnSGFuZGxlcic7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJCb2xkIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckJvbGQnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVySXRhbGljIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckl0YWxpYyc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJDb2xvciB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJDb2xvcic7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJTaXplIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlclNpemUnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyTWFzayB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJNYXNrJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlckNvbGxhcHNlIH0gZnJvbSAnLi90YWcvaGFuZGxlcnMvVGFnSGFuZGxlckNvbGxhcHNlJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlckRpY2UgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyRGljZSc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJVbmRlcmxpbmUgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyVW5kZXJsaW5lJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlclN0cmlrZSB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJTdHJpa2UnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVySW1hZ2UgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVySW1hZ2UnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVySG9yaXpvbnRhbFJ1bGUgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVySG9yaXpvbnRhbFJ1bGUnO1xyXG5pbXBvcnQgeyBUYWdIYW5kbGVyTGluayB9IGZyb20gJy4vdGFnL2hhbmRsZXJzL1RhZ0hhbmRsZXJMaW5rJztcclxuaW1wb3J0IHsgVGFnSGFuZGxlckJsb2NrcXVvdGUgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVyQmxvY2txdW90ZSc7XHJcbmltcG9ydCB7IFRhZ0hhbmRsZXJIZWFkZXIgfSBmcm9tICcuL3RhZy9oYW5kbGVycy9UYWdIYW5kbGVySGVhZGVyJztcclxuXHJcbmNvbnN0IGRlZmF1bHRCQkNvZGVQYXJzZXIgPSBuZXcgQkJDT0RFUGFyc2VyKCk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyQm9sZCgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJJdGFsaWMoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyVW5kZXJsaW5lKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlclN0cmlrZSgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJDb2xvcigpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJTaXplKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlck1hc2soKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyQ29sbGFwc2UoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVyRGljZSgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJJbWFnZSgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJIb3Jpem9udGFsUnVsZSgpKTtcclxuZGVmYXVsdEJCQ29kZVBhcnNlci5yZWdpc3RlclRhZ0hhbmRsZXIobmV3IFRhZ0hhbmRsZXJMaW5rKCkpO1xyXG5kZWZhdWx0QkJDb2RlUGFyc2VyLnJlZ2lzdGVyVGFnSGFuZGxlcihuZXcgVGFnSGFuZGxlckJsb2NrcXVvdGUoKSk7XHJcbmRlZmF1bHRCQkNvZGVQYXJzZXIucmVnaXN0ZXJUYWdIYW5kbGVyKG5ldyBUYWdIYW5kbGVySGVhZGVyKCkpO1xyXG5cclxuZXhwb3J0IHsgZGVmYXVsdEJCQ29kZVBhcnNlciwgVGFnSGFuZGxlciB9O1xyXG5cclxuZGVjbGFyZSB2YXIgZ2xvYmFsOiBhbnk7XHJcbmdsb2JhbC5CQkNPREUgPSB7XHJcbiAgICBuZXdQYXJzZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJCQ09ERVBhcnNlcigpO1xyXG4gICAgfSxcclxuICAgIGRlZmF1bHRQYXJzZXI6IGRlZmF1bHRCQkNvZGVQYXJzZXIsXHJcbiAgICBiYmNvZGUyaHRtbDogZnVuY3Rpb24gKHJhd0NvbnRlbnQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0QkJDb2RlUGFyc2VyLmJiY29kZTJodG1sKHJhd0NvbnRlbnQpO1xyXG4gICAgfSxcclxuICAgIGh0bWwyYmJjb2RlOiBmdW5jdGlvbiAoaHRtbDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRCQkNvZGVQYXJzZXIuaHRtbDJiYmNvZGUoaHRtbCk7XHJcbiAgICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=